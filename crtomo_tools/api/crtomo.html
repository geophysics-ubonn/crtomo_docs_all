
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>crtomo package &#8212; crtomo tools 0.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="lib" href="modules.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="crtomo-package">
<h1>crtomo package<a class="headerlink" href="#crtomo-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-crtomo.analytical_solution">
<span id="crtomo-analytical-solution-module"></span><h2>crtomo.analytical_solution module<a class="headerlink" href="#module-crtomo.analytical_solution" title="Permalink to this headline">¶</a></h2>
<p>Analytical potential distribution over a half-space</p>
<p>For a homogeneous full space, the potential distribution over a point source is
given as:</p>
<p><span class="math notranslate nohighlight">\(\varphi(r) = I \frac{1}{4 \pi \sigma r}\)</span></p>
<dl class="function">
<dt id="crtomo.analytical_solution.compute_potentials_analytical_hs">
<code class="descclassname">crtomo.analytical_solution.</code><code class="descname">compute_potentials_analytical_hs</code><span class="sig-paren">(</span><em>grid</em>, <em>configs_raw</em>, <em>rho</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.analytical_solution.compute_potentials_analytical_hs" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the potential superpositions of each current dipole in the
configurations, using the provided resistivity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>grid</strong> – crt_grid object with loaded FE grid. Used for the electrode positions</li>
<li><strong>configs_raw</strong> (<em>numpy.ndarray</em>) – Nx4 array containing N four-point spreads</li>
<li><strong>rho</strong> (<em>float</em>) – resistivity of half-space</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>potentials</strong> – List containing N arrays, each of size M (nr of grid nodes)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="crtomo.analytical_solution.compute_voltages">
<code class="descclassname">crtomo.analytical_solution.</code><code class="descname">compute_voltages</code><span class="sig-paren">(</span><em>grid</em>, <em>configs_raw</em>, <em>potentials_raw</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.analytical_solution.compute_voltages" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of potential distribution and corresponding four-point
spreads, compute the voltages</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>grid</strong> – crt_grid object the grid is used to infer electrode positions</li>
<li><strong>configs_raw</strong> (<em>Nx4 array</em>) – containing the measurement configs (1-indexed)</li>
<li><strong>potentials_raw</strong> (<em>list with N entries</em>) – corresponding to each measurement, containing the node potentials of
each injection dipole.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="crtomo.analytical_solution.pot_ana">
<code class="descclassname">crtomo.analytical_solution.</code><code class="descname">pot_ana</code><span class="sig-paren">(</span><em>r</em>, <em>rho</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.analytical_solution.pot_ana" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the analytical potential in distance r over a homogeneous
half-space</p>
</dd></dl>

</div>
<div class="section" id="module-crtomo.binaries">
<span id="crtomo-binaries-module"></span><h2>crtomo.binaries module<a class="headerlink" href="#module-crtomo.binaries" title="Permalink to this headline">¶</a></h2>
<p>provide a simple OS agnostic interface to various binary paths, e.g. for
GMSH oder CRTomo.</p>
<p>At the moment all paths are hardcoded, but this interface could be extended
using a configuration file.</p>
<p>At the moment the following binaries have hardcoded default paths:</p>
<blockquote>
<div><ul class="simple">
<li>gmsh</li>
<li>CRTomo</li>
<li>CRMod</li>
<li>CutMcK</li>
</ul>
</div></blockquote>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">crtomo.binaries</span> <span class="k">as</span> <span class="nn">cBin</span>
<span class="go">    gmsh_binary = cBin.get(&#39;gmsh&#39;)</span>
<span class="go">    print(gmsh_binary)</span>
<span class="go">/usr/bin/gmsh&#39;</span>
</pre></div>
</div>
<dl class="function">
<dt id="crtomo.binaries.get">
<code class="descclassname">crtomo.binaries.</code><code class="descname">get</code><span class="sig-paren">(</span><em>binary_name</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.binaries.get" title="Permalink to this definition">¶</a></dt>
<dd><p>return a valid path to the given binary. Return an error if no existing
binary can be found.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>binary_name</strong> (<em>string</em>) – a binary name used as a key in the ‘binaries’ dictionary above</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to binary</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-crtomo.cfg">
<span id="crtomo-cfg-module"></span><h2>crtomo.cfg module<a class="headerlink" href="#module-crtomo.cfg" title="Permalink to this headline">¶</a></h2>
<p>Representations of CRMod and CRTomo configurations.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">crtomo.cfg</span> <span class="k">as</span> <span class="nn">CRcfg</span>
<span class="go">    crmod_cfg = CRcfg.crmod_config()</span>
<span class="go">    print(crmod_cfg)</span>
<span class="go">***FILES***       !  mswitch</span>
<span class="go">../grid/elem.dat       !  elem</span>
<span class="go">../grid/elec.dat       !  elec</span>
<span class="go">../rho/rho.dat       !  rho</span>
<span class="go">../config/config.dat       !  config</span>
<span class="go">F       !  write_pot</span>
<span class="go">../mod/pot/pot.dat       !  pot_file</span>
<span class="go">T       !  write_volts</span>
<span class="go">../mod/volt.dat       !  volt_file</span>
<span class="go">F       !  write_sens</span>
<span class="go">../mod/sens/sens.dat       !  sens_file</span>
<span class="go">F       !  another_dataset</span>
<span class="go">1       !  2D</span>
<span class="go">F       !  fictitious_sink</span>
<span class="go">1660       !  sink_node</span>
<span class="go">F       !  boundary_values</span>
<span class="go">boundary.dat       !  boundary_file</span>
</pre></div>
</div>
<dl class="class">
<dt id="crtomo.cfg.crmod_config">
<em class="property">class </em><code class="descclassname">crtomo.cfg.</code><code class="descname">crmod_config</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.cfg.crmod_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Write CRMod configuration files (crmod.cfg).</p>
<p>This class is essentially a dict of CRMod configurations with a few extra
functions that know how to write a proper crmod.cfg file.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">crtomo.cfg</span> <span class="k">as</span> <span class="nn">cCFG</span>
<span class="go">    crmod_cfg = cCfg.crmod_config()</span>
<span class="go">    crmod_cfg.write_to_file(&#39;crmod.cfg&#39;)</span>
</pre></div>
</div>
<dl class="method">
<dt id="crtomo.cfg.crmod_config._check_and_convert_bools">
<code class="descname">_check_and_convert_bools</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.cfg.crmod_config._check_and_convert_bools" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace boolean variables by the characters ‘F’/’T’</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.cfg.crmod_config.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; a shallow copy of D<a class="headerlink" href="#crtomo.cfg.crmod_config.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.cfg.crmod_config.set_defaults">
<code class="descname">set_defaults</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.cfg.crmod_config.set_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill the dictionary with all defaults</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.cfg.crmod_config.write_to_file">
<code class="descname">write_to_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.cfg.crmod_config.write_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the configuration to a file. Use the correct order of values.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="crtomo.cfg.crtomo_config">
<em class="property">class </em><code class="descclassname">crtomo.cfg.</code><code class="descname">crtomo_config</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.cfg.crtomo_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Write CRTomo configuration files (crtomo.cfg).</p>
<p>This class is essentially a dict of CRTomo configurations with a few extra
functions that know how to write a proper crtomo.cfg file.</p>
<dl class="method">
<dt id="crtomo.cfg.crtomo_config.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; a shallow copy of D<a class="headerlink" href="#crtomo.cfg.crtomo_config.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.cfg.crtomo_config.help">
<code class="descname">help</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.cfg.crtomo_config.help" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the help text specific to a certain key</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.cfg.crtomo_config.set_defaults">
<code class="descname">set_defaults</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.cfg.crtomo_config.set_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill the dictionary with all defaults</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.cfg.crtomo_config.write_to_file">
<code class="descname">write_to_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.cfg.crtomo_config.write_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the configuration to a file. Use the correct order of values.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-crtomo.configManager">
<span id="crtomo-configmanager-module"></span><h2>crtomo.configManager module<a class="headerlink" href="#module-crtomo.configManager" title="Permalink to this headline">¶</a></h2>
<p>Manage measurement configurations and corresponding measurements.</p>
<div class="section" id="geometric-factors">
<h3>Geometric Factors<a class="headerlink" href="#geometric-factors" title="Permalink to this headline">¶</a></h3>
<p>(<a class="reference external" href="../pyplots/plot_K_vs_dipol_sep.py">Source code</a>, <a class="reference external" href="../pyplots/plot_K_vs_dipol_sep.png">png</a>, <a class="reference external" href="../pyplots/plot_K_vs_dipol_sep.hires.png">hires.png</a>, <a class="reference external" href="../pyplots/plot_K_vs_dipol_sep.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/plot_K_vs_dipol_sep.png" src="../_images/plot_K_vs_dipol_sep.png" />
</div>
</div>
<div class="section" id="literature">
<h3>Literature<a class="headerlink" href="#literature" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="first docutils">
<dt>Noel, Mark and Biwen Xu; Archaeological investigation by electrical</dt>
<dd>resistivity tomography: a preliminary study. Geophys J Int 1991; 107 (1):
95-102. doi: 10.1111/j.1365-246X.1991.tb01159.x</dd>
</dl>
</li>
<li>Stummer, Peter, Hansruedi Maurer, and Alan G. Green. “Experimental Design:
Electrical Resistivity Data Sets That Provide Optimum Subsurface
Information.” Geophysics 69, no. 1 (January 1, 2004): 120–120.
doi:10.1190/1.1649381.</li>
<li>Roy, A., and A. Apparao. “DEPTH OF INVESTIGATION IN DIRECT CURRENT METHODS.”
GEOPHYSICS 36, no. 5 (January 1, 1971): 943–59. doi:10.1190/1.1440226.</li>
</ul>
<dl class="class">
<dt id="crtomo.configManager.ConfigManager">
<em class="property">class </em><code class="descclassname">crtomo.configManager.</code><code class="descname">ConfigManager</code><span class="sig-paren">(</span><em>nr_of_electrodes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The class`ConfigManager` manages four-point measurement configurations.
Measurements can be saved/loaded from CRMod/CRTomo files, and new
configurations can be created.</p>
<dl class="method">
<dt id="crtomo.configManager.ConfigManager._crmod_to_abmn">
<code class="descname">_crmod_to_abmn</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager._crmod_to_abmn" title="Permalink to this definition">¶</a></dt>
<dd><p>convert crmod-style configurations to a Nx4 array</p>
<p>CRMod-style configurations merge A and B, and M and N, electrode
numbers into one large integer each:</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}AB = A \cdot 10^4 + B\\MN = M \cdot 10^4 + N\end{aligned}\end{align} \]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configs</strong> (<em>numpy.ndarray</em>) – Nx2 array holding the configurations to convert</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="go">    import crtomo.configManager as CRconfig</span>
<span class="go">    config = CRconfig.ConfigManager(nr_of_electrodes=5)</span>
<span class="go">    # generate some CRMod-style configurations</span>
<span class="go">    crmod_configs = np.array((</span>
<span class="go">        (10002, 40003),</span>
<span class="go">        (10010, 30004),</span>
<span class="go">    ))</span>
<span class="go">    abmn = config._crmod_to_abmn(crmod_configs)</span>
<span class="go">    print(abmn)</span>
<span class="go">[[  2.   1.   3.   4.]</span>
<span class="go"> [ 10.   1.   4.   3.]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager._get_crmod_abmn">
<code class="descname">_get_crmod_abmn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager._get_crmod_abmn" title="Permalink to this definition">¶</a></dt>
<dd><p>return a Nx2 array with the measurement configurations formatted
CRTomo style</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager._get_next_index">
<code class="descname">_get_next_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager._get_next_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="crtomo.configManager.ConfigManager._get_unique_identifiers">
<em class="property">static </em><code class="descname">_get_unique_identifiers</code><span class="sig-paren">(</span><em>ee_raw</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager._get_unique_identifiers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager._pseudodepths_dd_simple">
<code class="descname">_pseudodepths_dd_simple</code><span class="sig-paren">(</span><em>configs</em>, <em>spacing=1</em>, <em>grid=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager._pseudodepths_dd_simple" title="Permalink to this definition">¶</a></dt>
<dd><p>Given distances between electrodes, compute dipole-dipole pseudo
depths for the provided configuration</p>
<p>The pseudodepth is computed after Roy &amp; Apparao, 1971, as 0.195 times
the distance between the two outermost electrodes.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager._pseudodepths_schlumberger">
<code class="descname">_pseudodepths_schlumberger</code><span class="sig-paren">(</span><em>configs</em>, <em>spacing=1</em>, <em>grid=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager._pseudodepths_schlumberger" title="Permalink to this definition">¶</a></dt>
<dd><p>Given distances between electrodes, compute Schlumberger pseudo
depths for the provided configuration</p>
<p>The pseudodepth is computed after Roy &amp; Apparao, 1971, as 0.125 times
the distance between the two outermost electrodes.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager._pseudodepths_wenner">
<code class="descname">_pseudodepths_wenner</code><span class="sig-paren">(</span><em>configs</em>, <em>spacing=1</em>, <em>grid=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager._pseudodepths_wenner" title="Permalink to this definition">¶</a></dt>
<dd><p>Given distances between electrodes, compute Wenner pseudo
depths for the provided configuration</p>
<p>The pseudodepth is computed after Roy &amp; Apparao, 1971, as 0.11 times
the distance between the two outermost electrodes. It’s not really
clear why the Wenner depths are different from the Dipole-Dipole
depths, given the fact that Wenner configurations are a complete subset
of the Dipole-Dipole configurations.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.add_measurements">
<code class="descname">add_measurements</code><span class="sig-paren">(</span><em>measurements</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.add_measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new measurements to this instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>measurements</strong> (<em>numpy.ndarray</em>) – one or more measurement sets. It must either be 1D or 2D, with the
first dimension the number of measurement sets (K), and the second
the number of measurements (N): K x N</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>mid</strong> – measurement ID used to extract the measurements later on</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="go">    import crtomo.configManager as CRconfig</span>
<span class="go">    config = CRconfig.ConfigManager(nr_of_electrodes=10)</span>
<span class="go">    config.gen_dipole_dipole(skipc=0)</span>
<span class="go">    # generate some random noise</span>
<span class="go">    random_measurements = np.random.random(config.nr_of_configs)</span>
<span class="go">    mid = config.add_measurements(random_measurements)</span>
<span class="go">    # retrieve using mid</span>
<span class="go">    print(config.measurements[mid])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.add_noise">
<code class="descname">add_noise</code><span class="sig-paren">(</span><em>cid</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.add_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Add noise to a data set and return a new cid for the noised data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cid</strong> (<em>int</em>) – ID for the data set to add noise to</li>
<li><strong>positive</strong> (<em>bool</em>) – if True, then set measurements to np.nan that are negative</li>
<li><strong>seed</strong> (<em>int</em><em>, </em><em>optional</em>) – set the seed used to initialize the random number generator</li>
<li><strong>relative</strong> (<em>float</em>) – standard deviation of error</li>
<li><strong>absolute</strong> (<em>float</em>) – mean value of normal distribution</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cid_noise</strong> – ID pointing to noised data set</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is a stub at the moment and has NO functionality.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.add_to_configs">
<code class="descname">add_to_configs</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.add_to_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one or more measurement configurations to the stored
configurations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configs</strong> (<em>list</em><em> or </em><em>numpy.ndarray</em>) – list or array of configurations</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>configs</strong> – array holding all configurations of this instance</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Kx4 numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.clear_configs">
<code class="descname">clear_configs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.clear_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all configs. This implies deleting all measurements.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.clear_measurements">
<code class="descname">clear_measurements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.clear_measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all measurements from self.measurements. Reset the
measurement counter. All ID are invalidated.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.compute_K_factors">
<code class="descname">compute_K_factors</code><span class="sig-paren">(</span><em>spacing=None</em>, <em>configs=None</em>, <em>numerical=False</em>, <em>elem_file=None</em>, <em>elec_file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.compute_K_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute analytical geometrical factors.</p>
<p>TODO: use real electrode positions from self.grid</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.delete_measurements">
<code class="descname">delete_measurements</code><span class="sig-paren">(</span><em>mid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.delete_measurements" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.gen_all_current_dipoles">
<code class="descname">gen_all_current_dipoles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.gen_all_current_dipoles" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate all possible current dipoles for the given number of
electrodes (self.nr_electrodes). Duplicates are removed in the process.</p>
<p>After Noel and Xu, 1991, for N electrodes, the number of possible
unique configurations is <span class="math notranslate nohighlight">\(N \cdot (N - 1) / 2\)</span>. This excludes
duplicates in the form of switches current/voltages electrodes, as well
as reciprocal measurements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>configs</strong> – all possible current dipoles A-B</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Nx2 numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.gen_all_voltages_for_injections">
<code class="descname">gen_all_voltages_for_injections</code><span class="sig-paren">(</span><em>injections_raw</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.gen_all_voltages_for_injections" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given set of current injections AB, generate all possible
unique potential measurements.</p>
<p>After Noel and Xu, 1991, for N electrodes, the number of possible
voltage dipoles for a given current dipole is <span class="math notranslate nohighlight">\((N - 2)(N - 3) /
2\)</span>. This includes normal and reciprocal measurements.</p>
<p>If current dipoles are generated with
ConfigManager.gen_all_current_dipoles(), then <span class="math notranslate nohighlight">\(N \cdot (N - 1) /
2\)</span> current dipoles are generated. Thus, this function will produce
<span class="math notranslate nohighlight">\((N - 1)(N - 2)(N - 3) / 4\)</span> four-point configurations ABMN, half
of which are reciprocals (Noel and Xu, 1991).</p>
<p>All generated measurements are added to the instance.</p>
<p>Use ConfigManager.split_into_normal_and_reciprocal() to split the
configurations into normal and reciprocal measurements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>injections</strong> (<em>numpy.ndarray</em>) – Kx2 array holding K current injection dipoles A-B</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>configs</strong> – Nax4 array holding all possible measurement configurations</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.gen_configs_permutate">
<code class="descname">gen_configs_permutate</code><span class="sig-paren">(</span><em>injections_raw</em>, <em>only_same_dipole_length=False</em>, <em>ignore_crossed_dipoles=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.gen_configs_permutate" title="Permalink to this definition">¶</a></dt>
<dd><p>Create measurement configurations out of a pool of current injections.
Use only the provided dipoles for potential dipole selection. This
means that we have always reciprocal measurements.</p>
<p>Remove quadpoles where electrodes are used both as current and voltage
dipoles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>injections_raw</strong> (<em>Nx2 array</em>) – current injections</li>
<li><strong>only_same_dipole_length</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, only generate permutations for the same dipole length</li>
<li><strong>ignore_crossed_dipoles</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, potential dipoles will be ignored that lie between current
dipoles,  e.g. 1-4 3-5. In this case it is possible to not have
full normal-reciprocal coverage.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>configs</strong> – quadrupoles generated out of the current injections</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Nx4 array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.gen_dipole_dipole">
<code class="descname">gen_dipole_dipole</code><span class="sig-paren">(</span><em>skipc</em>, <em>skipv=None</em>, <em>stepc=1</em>, <em>stepv=1</em>, <em>nr_voltage_dipoles=10</em>, <em>before_current=False</em>, <em>start_skip=0</em>, <em>N=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.gen_dipole_dipole" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate dipole-dipole configurations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>skipc</strong> (<em>int</em>) – number of electrode positions that are skipped between electrodes
of a given dipole</li>
<li><strong>skipv</strong> (<em>int</em>) – steplength between subsequent voltage dipoles. A steplength of 0
will produce increments by one, i.e., 3-4, 4-5, 5-6 …</li>
<li><strong>stepc</strong> (<em>int</em>) – steplength between subsequent current dipoles. A steplength of 0
will produce increments by one, i.e., 3-4, 4-5, 5-6 …</li>
<li><strong>stepv</strong> (<em>int</em>) – steplength between subsequent voltage dipoles. A steplength of 0
will produce increments by one, i.e., 3-4, 4-5, 5-6 …</li>
<li><strong>nr_voltage_dipoles</strong> (<em>int</em>) – the number of voltage dipoles to generate for each current
injection dipole</li>
<li><strong>before_current</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set to True, also generate voltage dipoles in front of current
dipoles.</li>
<li><strong>start_skip</strong> (<em>int</em><em>, </em><em>optional</em>) – how many electrode to skip before/after the first/second current
electrode.</li>
<li><strong>N</strong> (<em>int</em><em>, </em><em>optional</em>) – number of electrodes, must be given if not already known by the
config instance</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRconfig</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">CRconfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">plot_pseudodepths</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-1.py">Source code</a>, <a class="reference external" href="../api/crtomo-1.png">png</a>, <a class="reference external" href="../api/crtomo-1.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-1.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-1.png" src="../_images/crtomo-1.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.gen_gradient">
<code class="descname">gen_gradient</code><span class="sig-paren">(</span><em>skip=0</em>, <em>step=1</em>, <em>vskip=0</em>, <em>vstep=1</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.gen_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate gradient measurements</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>skip</strong> (<em>int</em>) – distance between current electrodes</li>
<li><strong>step</strong> (<em>int</em>) – steplength between subsequent current dipoles</li>
<li><strong>vskip</strong> (<em>int</em>) – distance between voltage electrodes</li>
<li><strong>vstep</strong> (<em>int</em>) – steplength between subsequent voltage dipoles</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.gen_reciprocals">
<code class="descname">gen_reciprocals</code><span class="sig-paren">(</span><em>quadrupoles</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.gen_reciprocals" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given set of quadrupoles, generate and return reciprocals</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.gen_schlumberger">
<code class="descname">gen_schlumberger</code><span class="sig-paren">(</span><em>M</em>, <em>N</em>, <em>a=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.gen_schlumberger" title="Permalink to this definition">¶</a></dt>
<dd><p>generate one Schlumberger sounding configuration, that is, one set
of configurations for one potential dipole MN.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<em>int</em>) – electrode number for the first potential electrode</li>
<li><strong>N</strong> (<em>int</em>) – electrode number for the second potential electrode</li>
<li><strong>a</strong> (<em>int</em><em>, </em><em>optional</em>) – stepping between subsequent voltage electrodes. If not set,
determine it as a = abs(M - N)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>configs</strong> – array holding the configurations</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Kx4 numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>from crtomo.mpl_setup import *
import crtomo.configManager as CRconfig
config = CRconfig.ConfigManager(nr_of_electrodes=40)
config.gen_schlumberger(M=20, N=21)</p>
<p>(<a class="reference external" href="../api/crtomo-2.py">Source code</a>, <a class="reference external" href="../api/crtomo-2.png">png</a>, <a class="reference external" href="../api/crtomo-2.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-2.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-2.png" src="../_images/crtomo-2.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.gen_voltage_dipoles_skip">
<code class="descname">gen_voltage_dipoles_skip</code><span class="sig-paren">(</span><em>cinj</em>, <em>skip=0</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.gen_voltage_dipoles_skip" title="Permalink to this definition">¶</a></dt>
<dd><p>For given current injections, generate all possible voltage dipoles
with skip <strong>skip</strong>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cinj</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – Nx2 array containing the current injection electrodes a,b</li>
<li><strong>skip</strong> (<em>int</em><em>, </em><em>optional</em>) – Skip used for voltage electrodes. Default: 0</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.gen_wenner">
<code class="descname">gen_wenner</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.gen_wenner" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate Wenner measurement configurations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>a</strong> (<em>int</em>) – distance (in electrodes) between subsequent electrodes of each
four-point configuration.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>configs</strong> – array holding the configurations</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Kx4 numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="crtomo.configManager.ConfigManager.get_unique_injections">
<code class="descname">get_unique_injections</code><a class="headerlink" href="#crtomo.configManager.ConfigManager.get_unique_injections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.load_configs">
<code class="descname">load_configs</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.load_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Load configurations from a file with four columns a b m n</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – absolute or relative path to a config file with four columns</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.load_crmod_config">
<code class="descname">load_crmod_config</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.load_crmod_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a CRMod configuration file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – absolute or relative path to a crmod config.dat file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.load_crmod_volt">
<code class="descname">load_crmod_volt</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.load_crmod_volt" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a CRMod measurement file (commonly called volt.dat)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – path to filename</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of measurement ids</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="crtomo.configManager.ConfigManager.nr_of_configs">
<code class="descname">nr_of_configs</code><a class="headerlink" href="#crtomo.configManager.ConfigManager.nr_of_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of configurations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>nr_of_configs</strong> – number of configurations stored in this instance</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.plot_error_pars">
<code class="descname">plot_error_pars</code><span class="sig-paren">(</span><em>mid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.plot_error_pars" title="Permalink to this definition">¶</a></dt>
<dd><p>???</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.plot_pseudodepths">
<code class="descname">plot_pseudodepths</code><span class="sig-paren">(</span><em>spacing=1</em>, <em>grid=None</em>, <em>ctypes=None</em>, <em>dd_merge=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.plot_pseudodepths" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot pseudodepths for the measurements. If grid is given, then the
actual electrode positions are used, and the parameter ‘spacing’ is
ignored’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>spacing</strong> (<em>float</em><em>, </em><em>optional</em>) – assumed distance between electrodes. Default=1</li>
<li><strong>grid</strong> (<em>crtomo.grid.crt_grid instance</em><em>, </em><em>optional</em>) – grid instance. Used to infer real electrode positions</li>
<li><strong>ctypes</strong> (<em>list of strings</em><em>, </em><em>optional</em>) – <p>a list of configuration types that will be plotted. All
configurations that can not be sorted into these types will not be
plotted! Possible types:</p>
<ul>
<li>dd</li>
<li>schlumberger</li>
</ul>
</li>
<li><strong>dd_merge</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, merge all skips. Otherwise, generate individual plots for
each skip</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>figs</strong> (<em>matplotlib.figure.Figure instance or list of Figure instances</em>) – if only one type was plotted, then the figure instance is return.
Otherwise, return a list of figure instances.</li>
<li><strong>axes</strong> (<em>axes object or list of axes ojects</em>) – plot axes</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRconfig</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">CRconfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">plot_pseudodepths</span><span class="p">(</span>
    <span class="n">spacing</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
    <span class="n">ctypes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;dd&#39;</span><span class="p">,</span> <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-3.py">Source code</a>, <a class="reference external" href="../api/crtomo-3.png">png</a>, <a class="reference external" href="../api/crtomo-3.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-3.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-3.png" src="../_images/crtomo-3.png" />
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRconfig</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">CRconfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">gen_schlumberger</span><span class="p">(</span><span class="n">M</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">plot_pseudodepths</span><span class="p">(</span>
    <span class="n">spacing</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">ctypes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;schlumberger&#39;</span><span class="p">,</span> <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-4.py">Source code</a>, <a class="reference external" href="../api/crtomo-4.png">png</a>, <a class="reference external" href="../api/crtomo-4.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-4.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-4.png" src="../_images/crtomo-4.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.plot_pseudosection_type1">
<code class="descname">plot_pseudosection_type1</code><span class="sig-paren">(</span><em>mid</em>, <em>spacing=1</em>, <em>grid=None</em>, <em>ctypes=None</em>, <em>dd_merge=False</em>, <em>cb=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.plot_pseudosection_type1" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pseudosection type 1 plot for a given measurement.</p>
<p>This type of pseudosection uses the pseudodepth, as given in the
literature for certain configuration types, to generate (x,y)
coordinates for each measurement data. The x-coordinate is computed as
the mean of all four electrode x positions.</p>
<p>Note that not all configurations can be plotted using type 1 plots.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mid</strong> – </li>
<li><strong>spacing</strong> – </li>
<li><strong>grid</strong> – </li>
<li><strong>ctypes</strong> – </li>
<li><strong>dd_merge</strong> – </li>
<li><strong>cb</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRConfig</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">CRConfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stepc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># generate random measurements</span>
<span class="n">measurements</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">nr_of_configs</span><span class="p">)</span>
<span class="n">mid</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">add_measurements</span><span class="p">(</span><span class="n">measurements</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">plot_pseudosection_type1</span><span class="p">(</span><span class="n">mid</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-5.py">Source code</a>, <a class="reference external" href="../api/crtomo-5.png">png</a>, <a class="reference external" href="../api/crtomo-5.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-5.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-5.png" src="../_images/crtomo-5.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.plot_pseudosection_type2">
<code class="descname">plot_pseudosection_type2</code><span class="sig-paren">(</span><em>mid</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.plot_pseudosection_type2" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pseudosection plot of type 2.</p>
<p>For a given measurement data set, create plots that graphically show
the data in a 2D color plot. Hereby, x and y coordinates in the plot
are determined by the current dipole (x-axis) and voltage dipole
(y-axis) of the corresponding measurement configurations.</p>
<p>This type of rawdata plot can plot any type of measurement
configurations, i.e., it is not restricted to certain types of
configurations such as Dipole-dipole or Wenner configurations. However,
spatial inferences cannot be made from the plots for all configuration
types.</p>
<p>Coordinates are generated by separately sorting the dipoles
(current/voltage) along the first electrode, and then subsequently
sorting by the difference (skip) between both electrodes.</p>
<p>Note that this type of raw data plot does not take into account the
real electrode spacing of the measurement setup.</p>
<p>Type 2 plots can show normal and reciprocal data at the same time.
Hereby the upper left triangle of the plot area usually contains normal
data, and the lower right triangle contains the corresponding
reciprocal data. Therefore a quick assessment of normal-reciprocal
differences can be made by visually comparing the symmetry on the 1:1
line going from the lower left corner to the upper right corner.</p>
<p>Note that this interpretation usually only holds for Dipole-Dipole data
(and the related Wenner configurations).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mid</strong> (<em>integer</em><em> or </em><em>numpy.ndarray</em>) – Measurement ID of stored measurement data, or a numpy array (size
N) with data that will be plotted. Must have the same length as
number of configurations.</li>
<li><strong>ax</strong> (<em>matplotlib.Axes object</em><em>, </em><em>optional</em>) – axes object to plot to. If not provided, a new figure and axes
object will be created and returned</li>
<li><strong>nocb</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set to False, don’t plot the colorbar</li>
<li><strong>cblabel</strong> (<em>string</em><em>, </em><em>optional</em>) – label for the colorbar</li>
<li><strong>cbmin</strong> (<em>float</em><em>, </em><em>optional</em>) – colorbar minimum</li>
<li><strong>cbmax</strong> (<em>float</em><em>, </em><em>optional</em>) – colorbar maximum</li>
<li><strong>xlabel</strong> (<em>string</em><em>, </em><em>optional</em>) – xlabel for the plot</li>
<li><strong>ylabel</strong> (<em>string</em><em>, </em><em>optional</em>) – ylabel for the plot</li>
<li><strong>do_not_saturate</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set to True, then values outside the colorbar range will not
saturate with the respective limit colors. Instead, values lower
than the CB are colored “cyan” and vaues above the CB limit are
colored “red”</li>
<li><strong>log10</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set to True, plot the log10 values of the provided data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>fig</em> – figure object</li>
<li><em>ax</em> – axes object</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>You can just supply a data vector to the plot function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRConfig</span>
<span class="n">configs</span> <span class="o">=</span> <span class="n">CRConfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stepc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">measurements</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">configs</span><span class="o">.</span><span class="n">nr_of_configs</span><span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">plot_pseudosection_type2</span><span class="p">(</span>
    <span class="n">mid</span><span class="o">=</span><span class="n">measurements</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-6.py">Source code</a>, <a class="reference external" href="../api/crtomo-6.png">png</a>, <a class="reference external" href="../api/crtomo-6.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-6.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-6.png" src="../_images/crtomo-6.png" />
</div>
<p>Generate a simple type 2 plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRConfig</span>
<span class="n">configs</span> <span class="o">=</span> <span class="n">CRConfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stepc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">measurements</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">configs</span><span class="o">.</span><span class="n">nr_of_configs</span><span class="p">)</span>
<span class="n">mid</span> <span class="o">=</span> <span class="n">configs</span><span class="o">.</span><span class="n">add_measurements</span><span class="p">(</span><span class="n">measurements</span><span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">plot_pseudosection_type2</span><span class="p">(</span>
    <span class="n">mid</span><span class="p">,</span>
    <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;this label&#39;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;xlabel&#39;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-7.py">Source code</a>, <a class="reference external" href="../api/crtomo-7.png">png</a>, <a class="reference external" href="../api/crtomo-7.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-7.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-7.png" src="../_images/crtomo-7.png" />
</div>
<p>You can also supply axes to plot to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">crtomo.mpl_setup</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRConfig</span>

<span class="n">configs</span> <span class="o">=</span> <span class="n">CRConfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stepc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">K</span> <span class="o">=</span> <span class="n">configs</span><span class="o">.</span><span class="n">compute_K_factors</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">measurements</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">configs</span><span class="o">.</span><span class="n">nr_of_configs</span><span class="p">)</span>
<span class="n">mid</span> <span class="o">=</span> <span class="n">configs</span><span class="o">.</span><span class="n">add_measurements</span><span class="p">(</span><span class="n">measurements</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">configs</span><span class="o">.</span><span class="n">plot_pseudosection_type2</span><span class="p">(</span>
    <span class="n">mid</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;this label&#39;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;xlabel&#39;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">plot_pseudosection_type2</span><span class="p">(</span>
    <span class="n">K</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;K factor&#39;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;xlabel&#39;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-8.py">Source code</a>, <a class="reference external" href="../api/crtomo-8.png">png</a>, <a class="reference external" href="../api/crtomo-8.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-8.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-8.png" src="../_images/crtomo-8.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.remove_duplicates">
<code class="descname">remove_duplicates</code><span class="sig-paren">(</span><em>configs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.remove_duplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>remove duplicate entries from 4-point configurations. If no
configurations are provided, then use self.configs. Unique
configurations are only returned if configs is not None.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configs</strong> (<em>Nx4 numpy.ndarray</em><em>, </em><em>optional</em>) – remove duplicates from these configurations instead from
self.configs.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>configs_unique</strong> – unique configurations. Only returned if configs is not None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Kx4 numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.split_into_normal_and_reciprocal">
<code class="descname">split_into_normal_and_reciprocal</code><span class="sig-paren">(</span><em>pad=False</em>, <em>return_indices=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.split_into_normal_and_reciprocal" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the stored configurations into normal and reciprocal
measurements</p>
<p>** <em>Rule 1: the normal configuration contains the smallest electrode
number of the four involved electrodes in the current dipole</em> **</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pad</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, add numpy.nan values to the reciprocals for non-existent
measuremnts</li>
<li><strong>return_indices</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, also return the indices of normal and reciprocal
measurments. This can be used to extract corresponding
measurements.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>normal</strong> (<em>numpy.ndarray</em>) – Nnx4 array. If pad is True, then Nn == N (total number of
unique measurements). Otherwise Nn is the number of normal
measurements.</li>
<li><strong>reciprocal</strong> (<em>numpy.ndarray</em>) – Nrx4 array. If pad is True, then Nr == N (total number of
unique measurements). Otherwise Nr is the number of reciprocal
measurements.</li>
<li><strong>nor_indices</strong> (<em>numpy.ndarray, optional</em>) – Nnx1 array containing the indices of normal measurements. Only
returned if return_indices is True.</li>
<li><strong>rec_indices</strong> (<em>numpy.ndarray, optional</em>) – Nrx1 array containing the indices of normal measurements. Only
returned if return_indices is True.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.test_get_unique_identifiers">
<code class="descname">test_get_unique_identifiers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.test_get_unique_identifiers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.write_configs">
<code class="descname">write_configs</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.write_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Write configs to file in four columns</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.write_crmod_config">
<code class="descname">write_crmod_config</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.write_crmod_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the configurations to a configuration file in the CRMod format
All configurations are merged into one previor to writing to file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – absolute or relative path to output filename (usually config.dat)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.configManager.ConfigManager.write_crmod_volt">
<code class="descname">write_crmod_volt</code><span class="sig-paren">(</span><em>filename</em>, <em>mid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.configManager.ConfigManager.write_crmod_volt" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the measurements to the output file in the volt.dat file
format that can be read by CRTomo.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>string</em>) – output filename</li>
<li><strong>mid</strong> (<em>int</em><em> or </em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em>) – measurement ids of magnitude and phase measurements. If only one ID
is given, then the phase column is filled with zeros</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-crtomo.debug">
<span id="crtomo-debug-module"></span><h2>crtomo.debug module<a class="headerlink" href="#module-crtomo.debug" title="Permalink to this headline">¶</a></h2>
<p>This file contains certain functionality used for testing purposes.</p>
<p>One example is the interface to return grid objects based on CRTomo grids that
are distributed with crtomo_tools.</p>
<dl class="function">
<dt id="crtomo.debug.get_grid">
<code class="descclassname">crtomo.debug.</code><code class="descname">get_grid</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.debug.get_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#crtomo.grid.crt_grid" title="crtomo.grid.crt_grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.grid.crt_grid</span></code></a> instance, with a debug grid that
is distributed with the crtomo package. Multiple grids are available:</p>
<blockquote>
<div><ul class="simple">
<li>key=20 - a 20 electrode grid with 1m spacing, 4 elements between
electrodes, rectangular elements.</li>
<li>key=40 - a 40 electrode grid with 1m spacing, 4 elements between
electrodes, rectangular elements.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (<em>string</em>) – key that identifies the grid</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>grid</strong> – loaded grid object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#crtomo.grid.crt_grid" title="crtomo.grid.crt_grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.grid.crt_grid</span></code></a> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-crtomo.eitManager">
<span id="crtomo-eitmanager-module"></span><h2>crtomo.eitManager module<a class="headerlink" href="#module-crtomo.eitManager" title="Permalink to this headline">¶</a></h2>
<p>A digital representation of a sEIT inversion directory.</p>
<p>A sEIT-dir (or sipdir) has the following structure:</p>
<dl class="class">
<dt id="crtomo.eitManager.eitMan">
<em class="property">class </em><code class="descclassname">crtomo.eitManager.</code><code class="descname">eitMan</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manage sEIT data</p>
<dl class="method">
<dt id="crtomo.eitManager.eitMan._init_frequencies">
<code class="descname">_init_frequencies</code><span class="sig-paren">(</span><em>frequencies</em>, <em>configs_abmn=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan._init_frequencies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.add_homogeneous_model">
<code class="descname">add_homogeneous_model</code><span class="sig-paren">(</span><em>magnitude</em>, <em>phase=0</em>, <em>frequency=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.add_homogeneous_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Add homogeneous models to one or all tomodirs. Register those as
forward models</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>magnitude</strong> (<em>float</em>) – Value of homogeneous magnitude model</li>
<li><strong>phase</strong> (<em>float</em><em>, </em><em>optional</em>) – Value of homogeneous phase model. Default 0</li>
<li><strong>frequency</strong> (<em>float</em><em>, </em><em>optional</em>) – Frequency of of the tomodir to use. If None, then apply to all
tomodirs. Default is None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.add_to_configs">
<code class="descname">add_to_configs</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.add_to_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Add configurations to all tomodirs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – Nx4 numpy array with abmn configurations</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.apply_crtomo_cfg">
<code class="descname">apply_crtomo_cfg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.apply_crtomo_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the global crtomo_cfg for all frequencies</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.apply_noise_models">
<code class="descname">apply_noise_models</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.apply_noise_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the global noise_model for all frequencies</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.extract_points">
<code class="descname">extract_points</code><span class="sig-paren">(</span><em>label</em>, <em>points</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.extract_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract data points along a given line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>label</strong> (<em>str</em>) – the label for the assignments.</li>
<li><strong>points</strong> (<em>Nx2 numpy.ndarray</em>) – (x, y) pairs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>df_all</strong> – A dataframe with the extracted data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pandas.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.get_measurement_responses">
<code class="descname">get_measurement_responses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.get_measurement_responses" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of sip_responses for the modeled SIP spectra</p>
<p>Note that this function does NOT check that each frequency contains the
same configurations!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>responses</strong> – Dictionary with configurations as keys</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.load_data_crt_files">
<code class="descname">load_data_crt_files</code><span class="sig-paren">(</span><em>data_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.load_data_crt_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Load sEIT data from .ctr files (volt.dat files readable by CRTomo,
produced by CRMod)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dict</strong> (<em>dict</em>) – Data files that are imported. See example down below</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">glob</span>
<span class="go">    data_files = {}</span>
<span class="go">    data_files[&#39;frequencies&#39;] = &#39;data/frequencies.dat&#39;</span>
<span class="go">    files = sorted(glob.glob(&#39;data/volt_*.crt&#39;))</span>
<span class="go">    data_files[&#39;crt&#39;] = files</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.load_inversion_results">
<code class="descname">load_inversion_results</code><span class="sig-paren">(</span><em>sipdir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.load_inversion_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an sEIT inversion directory, load inversion results and store
the corresponding parameter ids in self.assignments</p>
<p>Note that all previous data stored in this instance of the eitManager
will be overwritten, if required!</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.measurements">
<code class="descname">measurements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Return modeled measurements</p>
<ol class="arabic simple">
<li>dimension: frequency</li>
<li>dimension: config-number</li>
<li>dimension: 2: magnitude and phase (resistivity)</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.model">
<code class="descname">model</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the forward modeling for all frequencies.</p>
<p>Use <a class="reference internal" href="#crtomo.eitManager.eitMan.measurements" title="crtomo.eitManager.eitMan.measurements"><code class="xref py py-func docutils literal notranslate"><span class="pre">crtomo.eitManager.eitMan.measurements()</span></code></a> to retrieve the
resulting synthetic measurement spectra.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>**kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – All kwargs are directly provide to the underlying
<a class="reference internal" href="#crtomo.tdManager.tdMan.model" title="crtomo.tdManager.tdMan.model"><code class="xref py py-func docutils literal notranslate"><span class="pre">crtomo.tdManager.tdMan.model()</span></code></a> function calls.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.plot_forward_models">
<code class="descname">plot_forward_models</code><span class="sig-paren">(</span><em>maglim=None</em>, <em>phalim=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.plot_forward_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Create plots of the forward models</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>mag_fig</strong> – Dictionary containing the figure and axes objects of the magnitude
plots</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.save_to_eitdir">
<code class="descname">save_to_eitdir</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.save_to_eitdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the eit data into a eit/sip directory structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>directory</strong> (<em>string|path</em>) – output directory</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.set_area_to_single_colecole">
<code class="descname">set_area_to_single_colecole</code><span class="sig-paren">(</span><em>xmin</em>, <em>xmax</em>, <em>zmin</em>, <em>zmax</em>, <em>ccpars</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.set_area_to_single_colecole" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.eitManager.eitMan.set_area_to_sip_signature">
<code class="descname">set_area_to_sip_signature</code><span class="sig-paren">(</span><em>xmin</em>, <em>xmax</em>, <em>zmin</em>, <em>zmax</em>, <em>spectrum</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitManager.eitMan.set_area_to_sip_signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameterize the eit instance by supplying one
SIP spectrum and the area to apply to.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xmin</strong> (<em>float</em>) – Minimum x coordinate of the area</li>
<li><strong>xmax</strong> (<em>float</em>) – Maximum x coordinate of the area</li>
<li><strong>zmin</strong> (<em>float</em>) – Minimum z coordinate of the area</li>
<li><strong>zmax</strong> (<em>float</em>) – Maximum z coordinate of the area</li>
<li><strong>spectrum</strong> (<em>sip_response</em>) – SIP spectrum to use for parameterization</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-crtomo.grid">
<span id="crtomo-grid-module"></span><h2>crtomo.grid module<a class="headerlink" href="#module-crtomo.grid" title="Permalink to this headline">¶</a></h2>
<p>Manage and plot CRMod/CRTomo grids</p>
<div class="section" id="creating-grids">
<h3>Creating grids<a class="headerlink" href="#creating-grids" title="Permalink to this headline">¶</a></h3>
<p>Grids can be created in various ways:</p>
<blockquote>
<div><ul class="simple">
<li>Regular grids can be created using Griev (which is not supported any
more)</li>
<li>Irregular (triangular) grids are created using the command line tool
‘cr_trig_create’</li>
<li>the crt_grid class provides some simple wrapper functions for
cr_trig_create that directory load created grids</li>
</ul>
</div></blockquote>
<p class="rubric">Notes</p>
<p>After loading an elem.dat file, i.e., the grid, grid information are exposed
via various structures:</p>
<blockquote>
<div><ul>
<li><p class="first">the header is stored in the dict self.header:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">    dict_keys(</span>
<span class="go">      [&#39;bandwidth&#39;, &#39;element_infos&#39;, &#39;cutmck&#39;, &#39;nr_element_types&#39;,</span>
<span class="go">      &#39;nr_nodes&#39;]</span>
<span class="go">    )</span>
</pre></div>
</div>
</li>
<li><p class="first">nodes are stored in self.nodes. Various sortings are available. If in
doubt use self.nodes[‘presort’].</p>
</li>
<li><p class="first">elements are stored in self.elements (as node numbers)</p>
</li>
</ul>
</div></blockquote>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">crtomo.grid</span> <span class="k">as</span> <span class="nn">CRTGrid</span>
<span class="go">    grid = CRTGrid.crt_grid()</span>
<span class="go">    grid.load_grid(&#39;elem.dat&#39;, &#39;elec.dat&#39;)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># extracting element coordinates in the order of rho.dat file</span>
<span class="go">    import crtomo.grid as CRGrid</span>
<span class="go">    grid = CRGrid.crt_grid(elem_file=&#39;elem.dat&#39;, elec_file=&#39;elec.dat&#39;)</span>
<span class="go">    # 1. element (oben links)</span>
<span class="go">    grid.nodes[&#39;presort&#39;][grid.elements[0], :]</span>
<span class="go">    # columns: node number - x position - z position</span>
</pre></div>
</div>
<dl class="class">
<dt id="crtomo.grid.crt_grid">
<em class="property">class </em><code class="descclassname">crtomo.grid.</code><code class="descname">crt_grid</code><span class="sig-paren">(</span><em>elem_file=None</em>, <em>elec_file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The <a class="reference internal" href="#crtomo.grid.crt_grid" title="crtomo.grid.crt_grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">crt_grid</span></code></a> holds and manages one Finite-Element grid.</p>
<p>This class provides only basic plotting routines. Advanced plotting
routines can be found in <a class="reference internal" href="#module-crtomo.plotManager" title="crtomo.plotManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.plotManager</span></code></a>.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">crtomo.grid</span> <span class="k">as</span> <span class="nn">CRGrid</span>
<span class="go">    grid = CRGrid(elem_file=&#39;elem.dat&#39;, elec_file=&#39;elec.dat&#39;)</span>
<span class="go">    print(grid)</span>
<span class="go">CRMod/CTRomo grid instance</span>
<span class="go">number of elements: 2728</span>
<span class="go">number of nodes: 1440</span>
<span class="go">number of electrodes: 60</span>
<span class="go">grid dimsensions:</span>
<span class="go">    X: -7.5 37.5</span>
<span class="go">    Z: -15.0 0.0</span>
</pre></div>
</div>
<dl class="method">
<dt id="crtomo.grid.crt_grid.Wm">
<code class="descname">Wm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.Wm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the smoothing regularization matrix Wm</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid._prepare_grids">
<code class="descname">_prepare_grids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid._prepare_grids" title="Permalink to this definition">¶</a></dt>
<dd><p>depending on the type of grid (rectangular or triangle), prepare grids
or triangle lists</p>
<dl class="docutils">
<dt>TODO: We want some nice way of not needing to know in the future if we</dt>
<dd>loaded triangles or quadratic elements.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid._read_elem_elements">
<code class="descname">_read_elem_elements</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid._read_elem_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all FE elements from the file stream. Elements are stored in
the self.element_data dict. The keys refer to the element types:</p>
<blockquote>
<div><ul class="simple">
<li>3: Triangular grid (three nodes)</li>
<li>8: Quadrangular grid (four nodes)</li>
<li>11: Mixed boundary element</li>
<li>12: Neumann (no-flow) boundary element</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid._read_elem_header">
<code class="descname">_read_elem_header</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid._read_elem_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid._read_elem_neighbors">
<code class="descname">_read_elem_neighbors</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid._read_elem_neighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the boundary-element-neighbors from the end of the file</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid._read_elem_nodes">
<code class="descname">_read_elem_nodes</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid._read_elem_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the nodes from an opened elem.dat file. Correct for CutMcK
transformations.</p>
<p>We store three typed of nodes in the dict ‘nodes’:</p>
<blockquote>
<div><ul class="simple">
<li>“raw” : as read from the elem.dat file</li>
<li>“presort” : pre-sorted so we can directly read node numbers from
a elec.dat file and use them as indices.</li>
<li><dl class="first docutils">
<dt>“sorted” <span class="classifier-delimiter">:</span> <span class="classifier">completely sorted as in the original grid (before any</span></dt>
<dd>CutMcK)</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>For completeness, we also store the following keys:</p>
<blockquote>
<div><ul class="simple">
<li>“cutmck_index” : Array containing the indices in “presort” to
obtain the “sorted” values:
nodes[‘sorted’] = nodes[‘presort’] [nodes[‘cutmck_index’], :]</li>
<li>“rev_cutmck_index” : argsort(cutmck_index)</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid._write_elem_header">
<code class="descname">_write_elem_header</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid._write_elem_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid._write_elements">
<code class="descname">_write_elements</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid._write_elements" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid._write_neighbors">
<code class="descname">_write_neighbors</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid._write_neighbors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid._write_nodes">
<code class="descname">_write_nodes</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid._write_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.add_grid_data">
<code class="descname">add_grid_data</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.add_grid_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return id</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.analyze_internal_angles">
<code class="descname">analyze_internal_angles</code><span class="sig-paren">(</span><em>return_plot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.analyze_internal_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze the internal angles of the grid. Angles shouldn’t be too
small because this can cause problems/uncertainties in the
Finite-Element solution of the forward problem. This function prints
the min/max values, as well as quantiles, to the command line, and can
also produce a histogram plot of the angles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_plot</strong> (<em>bool</em>) – if true, return (fig, ax) objects of the histogram plot</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>fig</strong> (<em>matplotlib.figure</em>) – figure object</li>
<li><strong>ax</strong> (<em>matplotlib.axes</em>) – axes object</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">crtomo.grid</span> <span class="k">as</span> <span class="nn">CRGrid</span>
<span class="go">    grid = CRGrid.crt_grid()</span>
<span class="go">    grid.load_elem_file(&#39;elem.dat&#39;)</span>
<span class="go">    fig, ax = grid.analyze_internal_angles(Angles)</span>
<span class="go">This grid was sorted using CutMcK. The nodes were resorted!</span>
<span class="go">Triangular grid found</span>
<span class="go">Minimal angle: 22.156368696965796 degrees</span>
<span class="go">Maximal angle: 134.99337326279496 degrees</span>
<span class="go">Angle percentile 10%: 51.22 degrees</span>
<span class="go">Angle percentile 20%: 55.59 degrees</span>
<span class="go">Angle percentile 30%: 58.26 degrees</span>
<span class="go">Angle percentile 40%: 59.49 degrees</span>
<span class="go">Angle percentile 50%: 59.95 degrees</span>
<span class="go">Angle percentile 60%: 60.25 degrees</span>
<span class="go">Angle percentile 70%: 61.16 degrees</span>
<span class="go">Angle percentile 80%: 63.44 degrees</span>
<span class="go">Angle percentile 90%: 68.72 degrees</span>
<span class="go">generating plot...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># save to file with</span>
<span class="go">    fig.savefig(&#39;element_angles.png&#39;, dpi=300)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.calculate_dimensions">
<code class="descname">calculate_dimensions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.calculate_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>For a regular grid, calculate the element and node dimensions</p>
</dd></dl>

<dl class="staticmethod">
<dt id="crtomo.grid.crt_grid.create_surface_grid">
<em class="property">static </em><code class="descname">create_surface_grid</code><span class="sig-paren">(</span><em>nr_electrodes=None</em>, <em>spacing=None</em>, <em>electrodes_x=None</em>, <em>depth=None</em>, <em>left=None</em>, <em>right=None</em>, <em>char_lengths=None</em>, <em>lines=None</em>, <em>debug=False</em>, <em>workdir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.create_surface_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a simple wrapper for cr_trig_create to create simple surface
grids.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>nr_electrodes</strong> (<em>int</em><em>, </em><em>optional</em>) – the number of surface electrodes</li>
<li><strong>spacing</strong> (<em>float</em><em>, </em><em>optional</em>) – the spacing between electrodes, usually in [m], required if nr of
electrodes is given</li>
<li><strong>electrodes_x</strong> (<em>array</em><em>, </em><em>optional</em>) – x-electrode positions can be provided here, e.g., for
non-equidistant electrode distances</li>
<li><strong>depth</strong> (<em>float</em><em>, </em><em>optional</em>) – the depth of the grid. If not given, this is computed as half the
maximum distance between electrodes</li>
<li><strong>left</strong> (<em>float</em><em>, </em><em>optional</em>) – the space allocated left of the first electrode. If not given,
compute as a fourth of the maximum inter-electrode distance</li>
<li><strong>right</strong> (<em>float</em><em>, </em><em>optional</em>) – the space allocated right of the first electrode. If not given,
compute as a fourth of the maximum inter-electrode distance</li>
<li><strong>char_lengths</strong> (<em>float|list of 4 floats</em><em>, </em><em>optional</em>) – characteristic lengths, as used by cr_trig_create</li>
<li><strong>lines</strong> (<em>list of floats</em><em>, </em><em>optional</em>) – at the given depths, add horizontal lines in the grid. Note that
all positive values will be multiplied by -1!</li>
<li><strong>debug</strong> (<em>bool</em><em>, </em><em>optional</em>) – default: False. If true, don’t hide the output of cr_trig_create</li>
<li><strong>workdir</strong> (<em>string</em><em>, </em><em>optional</em>) – if set, use this directory to create the grid. Don’t delete files
afterwards.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>grid</strong> – the generated grid</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#crtomo.grid.crt_grid" title="crtomo.grid.crt_grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.grid.crt_grid</span></code></a> instance</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">crtomo.grid</span> <span class="k">import</span> <span class="n">crt_grid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">crt_grid</span><span class="o">.</span><span class="n">create_surface_grid</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">left</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">char_lengths</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">lines</span><span class="o">=</span><span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">],</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">workdir</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pylab</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">plot_grid_to_ax</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="crtomo.grid.crt_grid.element">
<em class="property">class </em><code class="descname">element</code><a class="headerlink" href="#crtomo.grid.crt_grid.element" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="crtomo.grid.crt_grid.element.center">
<code class="descname">center</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.element.center" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="crtomo.grid.crt_grid.element_neighbors">
<code class="descname">element_neighbors</code><a class="headerlink" href="#crtomo.grid.crt_grid.element_neighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with element numbers (zero indexed) of neighboring
elements. Note that the elements are not sorted. No spacial orientation
can be inferred from the order of neighbors.</p>
<p>WARNING: This function is slow due to a nested loop. This would be a
good starting point for further optimizations.</p>
<p>In order to speed things up, we could search using the raw data, i.e.,
with CutMcK enabled sorting, and then restrict the loops to the 2x the
bandwidth (before - after).</p>
<p>While not being returned, this function also sets the variable
self.element_neighbors_edges, in which the common nodes with each
neighbor are stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>neighbors</strong> – a list (length equal to nr of elements) with neighboring elements</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.get_electrode_node">
<code class="descname">get_electrode_node</code><span class="sig-paren">(</span><em>electrode</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.get_electrode_node" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given electrode (e.g. from a config.dat file), return the true
node number as in self.nodes[‘sorted’]</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.get_electrode_positions">
<code class="descname">get_electrode_positions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.get_electrode_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the electrode positions in an numpy.ndarray</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>positions</strong> – Nx2 array, where N is the number of electrodes. The first column
contains x positions, the second z positions.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.get_element_centroids">
<code class="descname">get_element_centroids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.get_element_centroids" title="Permalink to this definition">¶</a></dt>
<dd><p>return the central points of all elements</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">x/z coordinates for all (N) elements</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Nx2 array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.get_internal_angles">
<code class="descname">get_internal_angles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.get_internal_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute all internal angles of the grid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">NxK array with N the number of elements, and K the number of nodes,
filled with the internal angles in degrees</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.get_minmax">
<code class="descname">get_minmax</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.get_minmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Return min/max x/z coordinates of grid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>x</strong> (<em>[float, float]</em>) – min, max values of grid dimensions in x direction (sideways)</li>
<li><strong>z</strong> (<em>[float, float]</em>) – min, max values of grid dimensions in z direction (downwards)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.load_elec_file">
<code class="descname">load_elec_file</code><span class="sig-paren">(</span><em>elec_file</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.load_elec_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.load_elem_file">
<code class="descname">load_elem_file</code><span class="sig-paren">(</span><em>elem_file</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.load_elem_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.load_grid">
<code class="descname">load_grid</code><span class="sig-paren">(</span><em>elem_file</em>, <em>elec_file</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.load_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Load elem.dat and elec.dat</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.plot_grid">
<code class="descname">plot_grid</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.plot_grid" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Other Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><strong>plot_electrode_numbers</strong> (<em>bool, optional</em>) – Plot electrode numbers in the grid, default: False</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.plot_grid_to_ax">
<code class="descname">plot_grid_to_ax</code><span class="sig-paren">(</span><em>ax</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.plot_grid_to_ax" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Other Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><strong>plot_electrode_numbers</strong> (<em>bool, optional</em>) – Plot electrode numbers in the grid, default: False</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.save_elec_file">
<code class="descname">save_elec_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.save_elec_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.save_elem_file">
<code class="descname">save_elem_file</code><span class="sig-paren">(</span><em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.save_elem_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Save elem.dat to file.
The grid is saved as read in, i.e., with or without applied cutmck.
If you want to change node coordinates, use self.nodes[‘raw’]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – output filename</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.grid.crt_grid.test_plot">
<code class="descname">test_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.grid.crt_grid.test_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-crtomo.mpl">
<span id="crtomo-mpl-module"></span><h2>crtomo.mpl module<a class="headerlink" href="#module-crtomo.mpl" title="Permalink to this headline">¶</a></h2>
<p>Thils file set ups matplotlib plot functions for the whole package.</p>
<p>Import all necessary Matplotlib modules and set default options
To use this module, import * from it:</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">crtomo.mpl_setup</span> <span class="k">import</span> <span class="o">*</span>
</pre></div>
</div>
<dl class="function">
<dt id="crtomo.mpl.general_settings">
<code class="descclassname">crtomo.mpl.</code><code class="descname">general_settings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.mpl.general_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>general settings</p>
</dd></dl>

<dl class="function">
<dt id="crtomo.mpl.mpl_get_cb_bound_below_plot">
<code class="descclassname">crtomo.mpl.</code><code class="descname">mpl_get_cb_bound_below_plot</code><span class="sig-paren">(</span><em>ax</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.mpl.mpl_get_cb_bound_below_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates for a colorbar axes below the provided axes
object. Take into account the changes of the axes due to aspect ratio
settings.</p>
<p>Important: Use only AFTER fig.subplots_adjust(…)</p>
</dd></dl>

<dl class="function">
<dt id="crtomo.mpl.mpl_get_cb_bound_next_to_plot">
<code class="descclassname">crtomo.mpl.</code><code class="descname">mpl_get_cb_bound_next_to_plot</code><span class="sig-paren">(</span><em>ax</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.mpl.mpl_get_cb_bound_next_to_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates for a colorbar axes next to the provided axes
object. Take into account the changes of the axes due to aspect ratio
settings.</p>
<p>Parts of this code are taken from the transforms.py file from matplotlib</p>
<p>Important: Use only AFTER fig.subplots_adjust(…)</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cb_pos</span> <span class="o">=</span> <span class="n">mpl_get_cb_bound_next_to_plot</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">15</span><span class="p">])</span>
<span class="go">    ax1 = fig.add_axes(cb_pos, frame_on=True)</span>
<span class="go">    cmap = mpl.cm.jet_r</span>
<span class="go">    norm = mpl.colors.Normalize(vmin=float(23), vmax=float(33))</span>
<span class="go">    # cmap = pm.cmap</span>
<span class="go">    # norm = pm.norm</span>
<span class="go">    cb1 = mpl.colorbar.ColorbarBase(</span>
<span class="go">        ax1,</span>
<span class="go">        cmap=cmap,</span>
<span class="go">        norm=norm,</span>
<span class="go">        orientation=&#39;vertical&#39;</span>
<span class="go">    )</span>
<span class="go">    cb1.locator = mpl.ticker.FixedLocator([23, 28, 33])</span>
<span class="go">    cb1.update_ticks()</span>
<span class="go">    cb1.ax.artists.remove(cb1.outline)    # remove framei</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="crtomo.mpl.setup">
<code class="descclassname">crtomo.mpl.</code><code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.mpl.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>import the matplotlib modules and set the style</p>
</dd></dl>

</div>
<div class="section" id="module-crtomo.mpl_setup">
<span id="crtomo-mpl-setup-module"></span><h2>crtomo.mpl_setup module<a class="headerlink" href="#module-crtomo.mpl_setup" title="Permalink to this headline">¶</a></h2>
<p>Thils file set ups matplotlib plot functions for the whole package.</p>
<p>Import all necessary Matplotlib modules and set default options
To use this module, import * from it:</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">crtomo.mpl_setup</span> <span class="k">import</span> <span class="o">*</span>
</pre></div>
</div>
<dl class="function">
<dt id="crtomo.mpl_setup.mpl_get_cb_bound_below_plot">
<code class="descclassname">crtomo.mpl_setup.</code><code class="descname">mpl_get_cb_bound_below_plot</code><span class="sig-paren">(</span><em>ax</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.mpl_setup.mpl_get_cb_bound_below_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates for a colorbar axes below the provided axes
object. Take into account the changes of the axes due to aspect ratio
settings.</p>
<p>Important: Use only AFTER fig.subplots_adjust(…)</p>
</dd></dl>

<dl class="function">
<dt id="crtomo.mpl_setup.mpl_get_cb_bound_next_to_plot">
<code class="descclassname">crtomo.mpl_setup.</code><code class="descname">mpl_get_cb_bound_next_to_plot</code><span class="sig-paren">(</span><em>ax</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.mpl_setup.mpl_get_cb_bound_next_to_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates for a colorbar axes next to the provided axes
object. Take into account the changes of the axes due to aspect ratio
settings.</p>
<p>Parts of this code are taken from the transforms.py file from matplotlib</p>
<p>Important: Use only AFTER fig.subplots_adjust(…)</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cb_pos</span> <span class="o">=</span> <span class="n">mpl_get_cb_bound_next_to_plot</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">15</span><span class="p">])</span>
<span class="go">    ax1 = fig.add_axes(cb_pos, frame_on=True)</span>
<span class="go">    cmap = mpl.cm.jet_r</span>
<span class="go">    norm = mpl.colors.Normalize(vmin=float(23), vmax=float(33))</span>
<span class="go">    # cmap = pm.cmap</span>
<span class="go">    # norm = pm.norm</span>
<span class="go">    cb1 = mpl.colorbar.ColorbarBase(</span>
<span class="go">        ax1,</span>
<span class="go">        cmap=cmap,</span>
<span class="go">        norm=norm,</span>
<span class="go">        orientation=&#39;vertical&#39;</span>
<span class="go">    )</span>
<span class="go">    cb1.locator = mpl.ticker.FixedLocator([23, 28, 33])</span>
<span class="go">    cb1.update_ticks()</span>
<span class="go">    cb1.ax.artists.remove(cb1.outline)    # remove framei</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-crtomo.nodeManager">
<span id="crtomo-nodemanager-module"></span><h2>crtomo.nodeManager module<a class="headerlink" href="#module-crtomo.nodeManager" title="Permalink to this headline">¶</a></h2>
<p>Manage node value sets for a given grid. Node data assigns a numeric value
to each node of a grid. This could, for example, be potential distributions or
sensitivities for single files.</p>
<dl class="class">
<dt id="crtomo.nodeManager.NodeMan">
<em class="property">class </em><code class="descclassname">crtomo.nodeManager.</code><code class="descname">NodeMan</code><span class="sig-paren">(</span><em>grid_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.nodeManager.NodeMan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>manage one or more node value sets for a given
<a class="reference internal" href="#crtomo.grid.crt_grid" title="crtomo.grid.crt_grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.grid.crt_grid</span></code></a> object</p>
<dl class="method">
<dt id="crtomo.nodeManager.NodeMan._get_next_index">
<code class="descname">_get_next_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.nodeManager.NodeMan._get_next_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.nodeManager.NodeMan.add_data">
<code class="descname">add_data</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.nodeManager.NodeMan.add_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Add data to the node value sets</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>numpy.ndarray</em>) – one or more node value sets. It must either be 1D or 2D, with the
first dimension the number of parameter sets (K), and the second
the number of elements (Z): K x Z</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># suppose that grid is a fully initialized grid oject with 50 nodes</span>
<span class="go">    nodeman = NodeMan(grid)</span>
<span class="go">    #</span>
<span class="go">    one_data_set = np.ones(50)</span>
<span class="go">    cid = nodeman.add_data(one_data_set)</span>
<span class="go">    print(nodeman.parsets[cid])</span>
<span class="go">    two_data_sets = np.ones((2, 50))</span>
<span class="go">    cids = nodeman.add_data(two_data_sets)</span>
<span class="go">    print(cids)</span>
<span class="go">[0, ]</span>
<span class="go">[1, 2]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-crtomo.parManager">
<span id="crtomo-parmanager-module"></span><h2>crtomo.parManager module<a class="headerlink" href="#module-crtomo.parManager" title="Permalink to this headline">¶</a></h2>
<p>Manage parameter sets for a given grid. A parameter set is a set of values
that correspond to the elements of the grid. Usually this is a resistivity or
phase distribution, but can also be a cumulated sensitivity distribution.</p>
<dl class="class">
<dt id="crtomo.parManager.ParMan">
<em class="property">class </em><code class="descclassname">crtomo.parManager.</code><code class="descname">ParMan</code><span class="sig-paren">(</span><em>grid_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>manage one or more parameter sets for a given
<a class="reference internal" href="#crtomo.grid.crt_grid" title="crtomo.grid.crt_grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.grid.crt_grid</span></code></a> object</p>
<dl class="method">
<dt id="crtomo.parManager.ParMan._clean_pid">
<code class="descname">_clean_pid</code><span class="sig-paren">(</span><em>pid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan._clean_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>if pid is a number, don’t do anything. If pid is a list with one
entry, strip the list and return the number. If pid contains more than
one entries, do nothing.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan._get_next_index">
<code class="descname">_get_next_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan._get_next_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan.add_data">
<code class="descname">add_data</code><span class="sig-paren">(</span><em>data</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan.add_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Add data to the parameter set</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>numpy.ndarray</em>) – one or more parameter sets. It must either be 1D or 2D, with the
first dimension the number of parameter sets (K), and the second
the number of elements (N): K x N</li>
<li><strong>metadata</strong> (<em>object</em><em>, </em><em>optional</em>) – the provided object will be stored in in the metadata dict and can
be received with the ID that is returned. If multiple (K) datasets
are added at ones, provide a list of objects with len K.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ID which can be used to access the parameter set</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int, ID</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># suppose that grid is a fully initialized grid oject with 100</span>
<span class="go">    # elements</span>
<span class="go">    parman = ParMan(grid)</span>
<span class="go">    #</span>
<span class="go">    one_data_set = np.ones(100)</span>
<span class="go">    cid = parman.add_data(one_data_set)</span>
<span class="go">    print(parman.parsets[cid])</span>
<span class="go">    two_data_sets = np.ones((2, 100))</span>
<span class="go">    cids = parman.add_data(two_data_sets)</span>
<span class="go">    print(cids)</span>
<span class="go">[0, ]</span>
<span class="go">[1, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan.add_empty_dataset">
<code class="descname">add_empty_dataset</code><span class="sig-paren">(</span><em>value=1</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan.add_empty_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an empty data set. Empty means: all elements have the same
value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em><em>, </em><em>optional</em>) – which value to assign all element parameters. Default is one.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan.extract_along_line">
<code class="descname">extract_along_line</code><span class="sig-paren">(</span><em>pid</em>, <em>xy0</em>, <em>xy1</em>, <em>N=10</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan.extract_along_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract parameter values along a given line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pid</strong> (<em>int</em>) – The parameter id to extract values from</li>
<li><strong>xy0</strong> (<em>tuple</em>) – A tupe with (x,y) start point coordinates</li>
<li><strong>xy1</strong> (<em>tuple</em>) – A tupe with (x,y) end point coordinates</li>
<li><strong>N</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of values to extract along the line (including start and
end point)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>values</strong> – data values for extracted data points</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray (n x 1)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan.extract_points">
<code class="descname">extract_points</code><span class="sig-paren">(</span><em>pid</em>, <em>points</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan.extract_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract values at certain points in the grid from a given parameter
set. Cells are selected by interpolating the centroids of the cells
towards the line using a “nearest” scheme.</p>
<p>Note that data is only returned for the points provided. If you want to
extract multiple data points along a line, defined by start and end
point, use the <strong>extract_along_line</strong> function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pid</strong> (<em>int</em>) – The parameter id to extract values from</li>
<li><strong>points</strong> (<em>Nx2 numpy.ndarray</em>) – (x, y) pairs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>values</strong> – data values for extracted data points</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray (n x 1)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan.extract_polygon_area">
<code class="descname">extract_polygon_area</code><span class="sig-paren">(</span><em>pid</em>, <em>polygon_points</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan.extract_polygon_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract all data points whose element centroid lies within the given
polygon.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan.load_from_rho_file">
<code class="descname">load_from_rho_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan.load_from_rho_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function that loads two parameter sets from a rho.dat
file, as used by CRMod for forward resistivity/phase models.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em><em>, </em><em>file path</em>) – filename of rho.dat file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>cid_mag</strong> (<em>int</em>) – ID of magnitude parameter set</li>
<li><strong>cid_phase</strong> (<em>int</em>) – ID of phase parameter set</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan.load_from_sens_file">
<code class="descname">load_from_sens_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan.load_from_sens_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load real and imaginary parts from a sens.dat file generated by
CRMod</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – filename of sensitivity file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>nid_re</strong> (<em>int</em>) – ID of real part of sensitivities</li>
<li><strong>nid_im</strong> (<em>int</em>) – ID of imaginary part of sensitivities</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan.load_inv_result">
<code class="descname">load_inv_result</code><span class="sig-paren">(</span><em>filename</em>, <em>columns=2</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan.load_inv_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Load one parameter set from a rho*.mag or rho*.pha file produced by
CRTomo.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>string</em><em>, </em><em>file path</em>) – </li>
<li><strong>columns</strong> (<em>int</em><em> or </em><em>iterable of ints</em><em>, </em><em>optional</em>) – column(s) to add to the manager. Defaults to 2 (third column).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>pid</strong> – ID(s) of parameter set</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int or list of ints</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan.modify_area">
<code class="descname">modify_area</code><span class="sig-paren">(</span><em>pid</em>, <em>xmin</em>, <em>xmax</em>, <em>zmin</em>, <em>zmax</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan.modify_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the given dataset in the rectangular area given by the
parameters and assign all parameters inside this area the given value.</p>
<p>Partially contained elements are treated as INSIDE the area, i.e., they
are assigned new values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pid</strong> (<em>int</em>) – id of the parameter set to modify</li>
<li><strong>xmin</strong> (<em>float</em>) – smallest x value of the area to modify</li>
<li><strong>xmax</strong> (<em>float</em>) – largest x value of the area to modify</li>
<li><strong>zmin</strong> (<em>float</em>) – smallest z value of the area to modify</li>
<li><strong>zmin</strong> – largest z value of the area to modify</li>
<li><strong>value</strong> (<em>float</em>) – this value is assigned to all parameters of the area</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">crtomo.tdManager</span> <span class="k">as</span> <span class="nn">CRtdm</span>
<span class="go">    tdman = CRtdm.tdMan(</span>
<span class="go">            elem_file=&#39;GRID/elem.dat&#39;,</span>
<span class="go">            elec_file=&#39;GRID/elec.dat&#39;,</span>
<span class="go">    )</span>
<span class="go">    pid = tdman.parman.add_empty_dataset(value=1)</span>
<span class="go">    tdman.parman.modify_area(</span>
<span class="go">            pid,</span>
<span class="go">            xmin=0,</span>
<span class="go">            xmax=2,</span>
<span class="go">            zmin=-2,</span>
<span class="go">            zmin=-0.5,</span>
<span class="go">            value=2,</span>
<span class="go">    )</span>
<span class="go">    fig, ax = tdman.plot.plot_elements_to_ax(pid)</span>
<span class="go">    fig.savefig(&#39;out.png&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan.modify_polygon">
<code class="descname">modify_polygon</code><span class="sig-paren">(</span><em>pid</em>, <em>polygon</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan.modify_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify parts of a parameter set by setting all parameters located
in, or touching, the provided <code class="xref py py-class docutils literal notranslate"><span class="pre">shapely.geometry.Polygon</span></code>
instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pid</strong> (<em>int</em>) – id of parameter set to vary</li>
<li><strong>polygon</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">shapely.geometry.Polygon</span></code> instance) – polygon that determines the area to modify</li>
<li><strong>value</strong> (<em>float</em>) – value that is assigned to all elements in the polygon</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shapely.geometry</span>
<span class="go">    polygon = shapely.geometry.Polygon((</span>
<span class="go">        (2, 0), (4, -1), (2, -1)</span>
<span class="go">    ))</span>
<span class="go">    tdman.parman.modify_polygon(pid, polygon, 3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.parManager.ParMan.save_to_rho_file">
<code class="descname">save_to_rho_file</code><span class="sig-paren">(</span><em>filename</em>, <em>cid_mag</em>, <em>cid_pha=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.parManager.ParMan.save_to_rho_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Save one or two parameter sets in the rho.dat forward model format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>string</em><em> (</em><em>file path</em><em>)</em>) – output filename</li>
<li><strong>cid_mag</strong> (<em>int</em>) – ID of magnitude parameter set</li>
<li><strong>cid_pha</strong> (<em>int</em><em>, </em><em>optional</em>) – ID of phase parameter set. If not set, will be set to zeros.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-crtomo.plotManager">
<span id="crtomo-plotmanager-module"></span><h2>crtomo.plotManager module<a class="headerlink" href="#module-crtomo.plotManager" title="Permalink to this headline">¶</a></h2>
<p>Manage node and element plots</p>
<dl class="function">
<dt id="crtomo.plotManager.converter_abs_log10">
<code class="descclassname">crtomo.plotManager.</code><code class="descname">converter_abs_log10</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.plotManager.converter_abs_log10" title="Permalink to this definition">¶</a></dt>
<dd><p>Return log10(abs(data))</p>
</dd></dl>

<dl class="function">
<dt id="crtomo.plotManager.converter_pm_log10">
<code class="descclassname">crtomo.plotManager.</code><code class="descname">converter_pm_log10</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.plotManager.converter_pm_log10" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the given data to:</p>
<blockquote>
<div>log10(subdata) for subdata &gt; 0
log10(-subdata’) for subdata’ &lt; 0
0 for subdata’’ == 0</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>array</em>) – input data</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>array_converted</strong> – converted data</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="crtomo.plotManager.plotManager">
<em class="property">class </em><code class="descclassname">crtomo.plotManager.</code><code class="descname">plotManager</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.plotManager.plotManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The <a class="reference internal" href="#crtomo.plotManager.plotManager" title="crtomo.plotManager.plotManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">plotManager</span></code></a> produces plots for a given grid. It uses
<a class="reference internal" href="#crtomo.grid.crt_grid" title="crtomo.grid.crt_grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.grid.crt_grid</span></code></a> to manage the grid, and
<a class="reference internal" href="#module-crtomo.parManager" title="crtomo.parManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.parManager</span></code></a> to manage element parameter values.
<a class="reference internal" href="#module-crtomo.nodeManager" title="crtomo.nodeManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.nodeManager</span></code></a> is used to manage node data.</p>
<dl class="method">
<dt id="crtomo.plotManager.plotManager.plot_elements_to_ax">
<code class="descname">plot_elements_to_ax</code><span class="sig-paren">(</span><em>cid</em>, <em>ax=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.plotManager.plotManager.plot_elements_to_ax" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot element data (parameter sets).</p>
<p>If the parameter <em>ax</em> is not set, then a new figure will be created
with a corresponding axes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cid</strong> (<em>int</em><em> or </em><em>numpy.ndarray</em>) – if <em>cid</em> is an int, then treat it as the id of the parameter set
stored in self.parman. Otherwise, expect it to be the data to plot.
At the moment no checks are made that the data fits the grid.</li>
<li><strong>ax</strong> (<em>matplotlib.Axes</em><em>, </em><em>optional</em>) – plot to this axes object, if provided</li>
<li><strong>alpha_cid</strong> (<em>int</em><em>, </em><em>optional</em>) – if given, use the corresponding dataset in self.parman as the alpha
channel. No checks are made if all values of this data set lie
between 0 and 1 (0 being fully transparent, and 1 being opaque).</li>
<li><strong>xmin</strong> (<em>float</em><em>, </em><em>optional</em>) – minimal x limit to plot</li>
<li><strong>xmax</strong> (<em>float</em><em>, </em><em>optional</em>) – maximal x limit to plot</li>
<li><strong>zmin</strong> (<em>float</em><em>, </em><em>optional</em>) – minimal z limit to plot</li>
<li><strong>zmax</strong> (<em>float</em><em>, </em><em>optional</em>) – maximial z limit to plot</li>
<li><strong>converter</strong> (<em>,</em><em>optional</em>) – </li>
<li><strong>norm</strong> (<em>norm object</em><em>, </em><em>optional</em>) – </li>
<li><strong>cmap_name</strong> (<em>string</em><em>, </em><em>optional</em>) – name of the colorbar to use. Default is “viridis”. To reverse
colors, use the _r version “viridis_r”</li>
<li><strong>cbposition</strong> – </li>
<li><strong>cblabel</strong> (<em>string</em><em>, </em><em>optional</em>) – colorbar label</li>
<li><strong>cbsegments</strong> (<em>int</em><em>, </em><em>optional</em>) – </li>
<li><strong>cbnrticks</strong> (<em>int</em><em>, </em><em>optional</em>) – </li>
<li><strong>plot_colorbar</strong> (<em>bool</em><em>, </em><em>optional</em>) – </li>
<li><strong>title</strong> (<em>string</em><em>, </em><em>optional</em>) – plot title string</li>
<li><strong>xlabel</strong> (<em>string</em><em>, </em><em>optional</em>) – Set xlabel of the resulting plot</li>
<li><strong>ylabel</strong> (<em>string</em><em>, </em><em>optional</em>) – Set ylabel of the resulting plot</li>
<li><strong>no_elecs</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, plot no electrodes</li>
<li><strong>rasterize</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, rasterize the plot. Default: False</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>fig</em></li>
<li><em>ax</em></li>
<li><em>cnorm</em></li>
<li><em>cmap</em></li>
<li><strong>cb</strong> (<em>colorbar instance, optional</em>) – only of plot_colorbar is True</li>
<li><em>scalarMap</em> – use to create custom colorbars</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.plotManager.plotManager.plot_nodes_contour_to_ax">
<code class="descname">plot_nodes_contour_to_ax</code><span class="sig-paren">(</span><em>ax</em>, <em>nid</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.plotManager.plotManager.plot_nodes_contour_to_ax" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot node data to an axes object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ax</strong> (<em>axes object</em>) – axes to plot to</li>
<li><strong>nid</strong> (<em>int</em>) – node id pointing to the respective data set</li>
<li><strong>cmap</strong> (<em>string</em><em>, </em><em>optional</em>) – color map to use. Default: jet</li>
<li><strong>vmin</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum colorbar value</li>
<li><strong>vmax</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum colorbar value</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.plotManager.plotManager.plot_nodes_pcolor_to_ax">
<code class="descname">plot_nodes_pcolor_to_ax</code><span class="sig-paren">(</span><em>ax</em>, <em>nid</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.plotManager.plotManager.plot_nodes_pcolor_to_ax" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot node data to an axes object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ax</strong> (<em>axes object</em>) – axes to plot to</li>
<li><strong>nid</strong> (<em>int</em>) – node id pointing to the respective data set</li>
<li><strong>cmap</strong> (<em>string</em><em>, </em><em>optional</em>) – color map to use. Default: jet</li>
<li><strong>vmin</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum colorbar value</li>
<li><strong>vmax</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum colorbar value</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.plotManager.plotManager.plot_nodes_streamlines_to_ax">
<code class="descname">plot_nodes_streamlines_to_ax</code><span class="sig-paren">(</span><em>ax</em>, <em>cid</em>, <em>config</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.plotManager.plotManager.plot_nodes_streamlines_to_ax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-crtomo.status">
<span id="crtomo-status-module"></span><h2>crtomo.status module<a class="headerlink" href="#module-crtomo.status" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="crtomo.status.is_sipdir">
<code class="descclassname">crtomo.status.</code><code class="descname">is_sipdir</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.status.is_sipdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple check if the supplied directory is a SIP directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>directory</strong> (<em>string</em>) – Check if the supplied path is a valid SIP directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>is_sipdir</strong> – True if the supplied directory is a SIP directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="crtomo.status.is_tomodir">
<code class="descclassname">crtomo.status.</code><code class="descname">is_tomodir</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.status.is_tomodir" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the supplied directory is a tomodir</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>directory</strong> (<em>string</em>) – Check if the supplied path is a valid tomodir</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>is_tomodir</strong> – True if the supplied directory is a tomodir directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="crtomo.status.sipdir_is_finished">
<code class="descclassname">crtomo.status.</code><code class="descname">sipdir_is_finished</code><span class="sig-paren">(</span><em>sipdir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.status.sipdir_is_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the state of modeling and inversion for a given SIP dir. The
result does not take into account sensitivities or potentials, as
optionally generated by CRMod.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sipdir</strong> (<em>string</em>) – Directory to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>crmod_is_finished</strong> (<em>bool</em>) – True if all tomodirs of this SIP directory contain finished modeling
results.</li>
<li><strong>crtomo_is_finished</strong> (<em>bool</em>) – True if all tomodirs of this SIP directory contain finished inversion
results.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="crtomo.status.td_is_finished">
<code class="descclassname">crtomo.status.</code><code class="descname">td_is_finished</code><span class="sig-paren">(</span><em>tomodir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.status.td_is_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the state of modeling and inversion for a given tomodir. The
result does not take into account sensitivities or potentials, as
optionally generated by CRMod.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tomodir</strong> (<em>string</em>) – Directory to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>crmod_is_finished</strong> (<em>bool</em>) – True if a successful CRMod result is contained in the tomodir
directory.</li>
<li><strong>crtomo_is_finished</strong> (<em>bool</em>) – True if a successful CRTomo inversion results is contained in the
tomodir directory.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-crtomo.tdManager">
<span id="crtomo-tdmanager-module"></span><h2>crtomo.tdManager module<a class="headerlink" href="#module-crtomo.tdManager" title="Permalink to this headline">¶</a></h2>
<p>A digital representation of a tomodir, i.e., a single-frequency inversion.</p>
<p>** Modelling **</p>
<ul>
<li><p class="first">save to one large binary file</p>
<blockquote>
<div><ul class="simple">
<li>I suggest to use pytables (tables) for that.</li>
<li>need to figure out how to store the individual modules in there, and
retrieve them later.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">save-to-tomodir</p>
<blockquote>
<div><ul class="simple">
<li>including modeling results</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">on-demand generation of modeling results</p>
</li>
<li><p class="first">provide easy plotting of pseudo sections for voltages:</p>
<blockquote>
<div><ul class="simple">
<li>magnitude (linear/log)</li>
<li>phase (liner)</li>
<li>rho (analytic/numerical K factor)</li>
<li>sigma’</li>
<li>sigma’‘</li>
</ul>
</div></blockquote>
<p>plots should be generated for dipole-dipole only, and all additional
configurations that we can find reliable z-estimators for.</p>
<p>Provide corresponding filter functions, or use reda for that (do we want to
depend on reda? I think it’s ok to do this).</p>
<p>In case only a subset of data is plotted, note the number of missing values
in the plot!</p>
<p>We could also provide means to generate the (x/z) coordinates by means of
averaging over sensitivity distributions (see old script for that).</p>
</li>
<li><p class="first">provide functionality to check voltages against sensitivity sums</p>
</li>
<li><p class="first">plot sensitivities</p>
<blockquote>
<div><ul class="simple">
<li>perhaps provide different transformation functions, for example the one
from Johannes Kenkel</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">plot potential distributions</p>
<blockquote>
<div><ul class="simple">
<li>also plot current lines via streamlines?</li>
<li>can we generate current densities? not sure how to mix element data
(sigma) and potential data (nodes) in j = sigma E</li>
</ul>
</div></blockquote>
</li>
</ul>
<dl class="class">
<dt id="crtomo.tdManager.noise_model">
<em class="property">class </em><code class="descclassname">crtomo.tdManager.</code><code class="descname">noise_model</code><span class="sig-paren">(</span><em>seed</em>, <em>mag_rel=0</em>, <em>mag_abs=0</em>, <em>pha_a1=0</em>, <em>pha_b1=0</em>, <em>pha_rel=0</em>, <em>pha_abs=0</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.noise_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>noise model as contained in the crt.noisemod file</p>
<p class="rubric">Notes</p>
<ol class="arabic simple">
<li>line: 1       # Ensemble seed</li>
<li>line: 0.300 # Relative error resistance A (noise) [%] dR=AR+B</li>
<li>line: 0.100E-01 # Absolute errior resistance B (noise) [Ohm m]</li>
<li>line: 0.00  # Phase error parameter A1 [mRad/Ohm/m] dp=A1*R^B1+A2*p+p0</li>
<li>line: 0.00        # Phase error parameter B1 (noise) []</li>
<li>line: 0.00        # Relative phase error A2 (noise) [%]</li>
<li>line: 0.00        # Absolute phase error p0 (noise) [mRad]</li>
</ol>
<dl class="method">
<dt id="crtomo.tdManager.noise_model.write_crt_noisemod">
<code class="descname">write_crt_noisemod</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.noise_model.write_crt_noisemod" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="crtomo.tdManager.tdMan">
<em class="property">class </em><code class="descclassname">crtomo.tdManager.</code><code class="descname">tdMan</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manage tomodirs</p>
<dl class="method">
<dt id="crtomo.tdManager.tdMan._check_state">
<code class="descname">_check_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._check_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if this instance can model and/or can invert</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._initialize_components">
<code class="descname">_initialize_components</code><span class="sig-paren">(</span><em>kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._initialize_components" title="Permalink to this definition">¶</a></dt>
<dd><p>initialize the various components using the supplied **kwargs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> (<em>dict</em>) – **kwargs dict as received by __init__()</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._invert">
<code class="descname">_invert</code><span class="sig-paren">(</span><em>tempdir</em>, <em>catch_output=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal function than runs an inversion using CRTomo.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tempdir</strong> (<em>string</em>) – directory which to use as a tomodir</li>
<li><strong>catch_output</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, catch all outputs of the CRTomo call</li>
<li><strong>cores</strong> (<em>int</em><em>, </em><em>optional</em>) – how many cores to use. defaults to 2</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._model">
<code class="descname">_model</code><span class="sig-paren">(</span><em>voltages</em>, <em>sensitivities</em>, <em>potentials</em>, <em>tempdir</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="crtomo.tdManager.tdMan._read_eps_ctr">
<em class="property">static </em><code class="descname">_read_eps_ctr</code><span class="sig-paren">(</span><em>tomodir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._read_eps_ctr" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a CRTomo eps.ctr file.</p>
<p>TODO: change parameters to only provide eps.ctr file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tomodir</strong> (<em>string</em>) – Path to directory path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._read_inv_ctr">
<code class="descname">_read_inv_ctr</code><span class="sig-paren">(</span><em>tomodir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._read_inv_ctr" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in selected results of the inv.ctr file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tomodir</strong> (<em>string</em>) – directory path to a tomodir</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>inv_ctr</strong> – structure containing inv.ctr data</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">?</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._read_inversion_results">
<code class="descname">_read_inversion_results</code><span class="sig-paren">(</span><em>tomodir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._read_inversion_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Import resistivity magnitude/phase and real/imaginary part of
conductivity for all iterations</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._read_modeling_results">
<code class="descname">_read_modeling_results</code><span class="sig-paren">(</span><em>directory</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._read_modeling_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Read modeling results from a given mod/ directory. Possible values
to read in are:</p>
<blockquote>
<div><ul class="simple">
<li>voltages</li>
<li>potentials</li>
<li>sensitivities</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._read_potentials">
<code class="descname">_read_potentials</code><span class="sig-paren">(</span><em>pot_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._read_potentials" title="Permalink to this definition">¶</a></dt>
<dd><p>import potentials from a directory</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._read_resm_m">
<code class="descname">_read_resm_m</code><span class="sig-paren">(</span><em>tomodir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._read_resm_m" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the resolution matrix of an inversion</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tomodir</strong> (<em>string</em>) – directory path to a tomodir</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._read_sensitivities">
<code class="descname">_read_sensitivities</code><span class="sig-paren">(</span><em>sens_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._read_sensitivities" title="Permalink to this definition">¶</a></dt>
<dd><p>import sensitivities from a directory</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>check that signs are correct in case CRMod switches potential
electrodes</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._read_voltages">
<code class="descname">_read_voltages</code><span class="sig-paren">(</span><em>voltage_file</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._read_voltages" title="Permalink to this definition">¶</a></dt>
<dd><p>import voltages from a volt.dat file</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._save_potentials">
<code class="descname">_save_potentials</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._save_potentials" title="Permalink to this definition">¶</a></dt>
<dd><p>save potentials to a directory</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan._save_sensitivities">
<code class="descname">_save_sensitivities</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan._save_sensitivities" title="Permalink to this definition">¶</a></dt>
<dd><p>save sensitivities to a directory</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.add_homogeneous_model">
<code class="descname">add_homogeneous_model</code><span class="sig-paren">(</span><em>magnitude</em>, <em>phase=0</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.add_homogeneous_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a homogeneous resistivity model to the tomodir. This is useful
for synthetic measurements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>magnitude</strong> (<em>float</em>) – magnitude [Ohm m] value of the homogeneous model</li>
<li><strong>phase</strong> (<em>float</em><em>, </em><em>optional</em>) – phase [mrad] value of the homogeneous model</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>pid_mag</strong> (<em>int</em>) – ID value of the parameter set of the magnitude model</li>
<li><strong>pid_pha</strong> (<em>int</em>) – ID value of the parameter set of the phase model</li>
<li><em>Note that the parameter sets are automatically registered as the</em></li>
<li><em>forward models for magnitude and phase values.</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.check_measurements_against_sensitivities">
<code class="descname">check_measurements_against_sensitivities</code><span class="sig-paren">(</span><em>magnitude</em>, <em>phase=0</em>, <em>return_plot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.check_measurements_against_sensitivities" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for all configurations if the sensitivities add up to a given
homogeneous model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>magnitude</strong> (<em>float</em>) – magnitude used for the homogeneous model</li>
<li><strong>phase</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0</em>) – phase value used for the homogeneous model</li>
<li><strong>return_plot</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – create a plot analyzing the differences</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>results</strong> (<em>Nx6 numpy.ndarray</em>) – Results of the analysis.<ul>
<li>magnitude measurement [Ohm]</li>
<li>sum of sensitivities [Volt]</li>
<li>relative deviation of sensitivity-sum from measurement [in
percent]</li>
</ul>
</li>
<li><strong>fig</strong> (<em>matplotlib.figure, optional</em>) – figure object. Only returned of return_plot=True</li>
<li><strong>axes</strong> (<em>list</em>) – list of axes corresponding to the figure</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="ch">#!/usr/bin/python</span>
<span class="go">    import crtomo.tdManager as CRtdMan</span>
<span class="go">    tdm = CRtdMan.tdMan(</span>
<span class="go">            elem_file=&#39;grid/elem.dat&#39;,</span>
<span class="go">            elec_file=&#39;grid/elec.dat&#39;,</span>
<span class="go">            config_file=&#39;config/config.dat&#39;,</span>
<span class="go">    )</span>
<span class="go">    results, fig, axes = tdm.check_measurements_against_sensitivities(</span>
<span class="go">            magnitude=100,</span>
<span class="go">            phase=-10,</span>
<span class="go">            return_plot=True</span>
<span class="go">    )</span>
<span class="go">    fig.savefig(&#39;sensitivity_comparison.png&#39;, dpi=300)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.clear_measurements">
<code class="descname">clear_measurements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.clear_measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Forget any previous measurements</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.create_tomodir">
<code class="descname">create_tomodir</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.create_tomodir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a tomodir subdirectory structure in the given directory</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.get_potential">
<code class="descname">get_potential</code><span class="sig-paren">(</span><em>config_nr</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.get_potential" title="Permalink to this definition">¶</a></dt>
<dd><p>Return potential data for a given measurement configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config_nr</strong> (<em>int</em>) – Number of the configurations. Starts at 0</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>pot_data</strong> – First array: magnitude potentials, second array: phase potentials</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list with two numpy.ndarrays</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.get_sensitivity">
<code class="descname">get_sensitivity</code><span class="sig-paren">(</span><em>config_nr</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.get_sensitivity" title="Permalink to this definition">¶</a></dt>
<dd><p>return a sensitivity, as well as corresponding metadata, for a given
measurement configuration. Indices start at zero.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.invert">
<code class="descname">invert</code><span class="sig-paren">(</span><em>output_directory=None</em>, <em>catch_output=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert this instance, and import the result files</p>
<p>No directories/files will be overwritten. Raise an IOError if the
output directory exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output_directory</strong> (<em>string</em><em>, </em><em>optional</em>) – use this directory as output directory for the generated tomodir.
If None, then a temporary directory will be used that is deleted
after import.</li>
<li><strong>catch_output</strong> (<em>bool</em><em>, </em><em>optional</em>) – Do not show CRTomo output</li>
<li><strong>cores</strong> (<em>int</em><em>, </em><em>optional</em>) – how many cores to use for CRTomo</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>return_code</strong> – Return 0 if the inversion completed successfully. Return 1 if no
measurements are present.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.load_rho_file">
<code class="descname">load_rho_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.load_rho_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a forward model from a rho.dat file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – filename to rho.dat file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>pid_mag</strong> (<em>int</em>) – parameter id for the magnitude model</li>
<li><strong>pid_pha</strong> (<em>int</em>) – parameter id for the phase model</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.measurements">
<code class="descname">measurements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the measurements associated with this instance.</p>
<p>if measurements are not present, check if we can model, and then
run CRMod to load the measurements.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.model">
<code class="descname">model</code><span class="sig-paren">(</span><em>voltages=True</em>, <em>sensitivities=False</em>, <em>potentials=False</em>, <em>output_directory=None</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward model the tomodir and read in the results</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.plot_eps_data">
<code class="descname">plot_eps_data</code><span class="sig-paren">(</span><em>dfs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.plot_eps_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.plot_eps_data_hist">
<code class="descname">plot_eps_data_hist</code><span class="sig-paren">(</span><em>dfs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.plot_eps_data_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot histograms of data residuals and data error weighting</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.plot_forward_models">
<code class="descname">plot_forward_models</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.plot_forward_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the forward models (requires the forward models to be loaded)</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.plot_inversion_evolution">
<code class="descname">plot_inversion_evolution</code><span class="sig-paren">(</span><em>df</em>, <em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.plot_inversion_evolution" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.plot_sensitivity">
<code class="descname">plot_sensitivity</code><span class="sig-paren">(</span><em>config_nr</em>, <em>mag_only=False</em>, <em>absv=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.plot_sensitivity" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a nice looking plot of the sensitivity distribution for the
given configuration nr. Configs start at 1!</p>
<dl class="docutils">
<dt>absv: bool</dt>
<dd>If true, plot absolute values of sensitivity</dd>
</dl>
<p class="rubric">Examples</p>
<p>(<a class="reference external" href="../api/crtomo-9.py">Source code</a>, <a class="reference external" href="../api/crtomo-9.png">png</a>, <a class="reference external" href="../api/crtomo-9.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-9.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-9.png" src="../_images/crtomo-9.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.read_inversion_results">
<code class="descname">read_inversion_results</code><span class="sig-paren">(</span><em>tomodir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.read_inversion_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Import inversion results from a tomodir into this instance</p>
<p>WARNING: Not finished!</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.register_forward_model">
<code class="descname">register_forward_model</code><span class="sig-paren">(</span><em>pid_mag</em>, <em>pid_pha</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.register_forward_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Register parameter sets as the forward models for magnitude and
phase</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pid_mag</strong> (<em>int</em>) – parameter id corresponding to the magnitude model</li>
<li><strong>pid_pha</strong> (<em>int</em>) – parameter id corresponding to the phase model</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.register_magnitude_model">
<code class="descname">register_magnitude_model</code><span class="sig-paren">(</span><em>pid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.register_magnitude_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a given parameter model to the forward magnitude model</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.register_measurements">
<code class="descname">register_measurements</code><span class="sig-paren">(</span><em>mag</em>, <em>pha=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.register_measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Register measurements as magnitude/phase measurements used for the
inversion</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mag</strong> (<em>int|numpy.ndarray</em>) – magnitude measurements id for the corresponding measurement data in
self.configs.measurements. If mag is a numpy.ndarray, assume
mag to be the data itself an register it</li>
<li><strong>pha</strong> (<em>int</em><em>, </em><em>optional</em>) – phase measurements id for the corresponding measurement data in
self.configs.measurements. If not present, a new measurement set
will be added with zeros only.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.register_phase_model">
<code class="descname">register_phase_model</code><span class="sig-paren">(</span><em>pid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.register_phase_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a given parameter model to the forward phase model</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.save_to_tomodir">
<code class="descname">save_to_tomodir</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.save_to_tomodir" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the tomodir instance to a directory structure.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Test cases:</p>
<blockquote class="last">
<div><ul class="simple">
<li>modeling only</li>
<li>inversion only</li>
<li>modeling and inversion</li>
</ul>
</div></blockquote>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdManager.tdMan.show_parset">
<code class="descname">show_parset</code><span class="sig-paren">(</span><em>pid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdManager.tdMan.show_parset" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a given parameter set</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-crtomo">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-crtomo" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="crtomo.pltMan">
<code class="descclassname">crtomo.</code><code class="descname">pltMan</code><a class="headerlink" href="#crtomo.pltMan" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#crtomo.plotManager.plotManager" title="crtomo.plotManager.plotManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.plotManager.plotManager</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="crtomo.tdMan">
<em class="property">class </em><code class="descclassname">crtomo.</code><code class="descname">tdMan</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manage tomodirs</p>
<dl class="method">
<dt id="crtomo.tdMan._check_state">
<code class="descname">_check_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._check_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if this instance can model and/or can invert</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._initialize_components">
<code class="descname">_initialize_components</code><span class="sig-paren">(</span><em>kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._initialize_components" title="Permalink to this definition">¶</a></dt>
<dd><p>initialize the various components using the supplied **kwargs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> (<em>dict</em>) – **kwargs dict as received by __init__()</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._invert">
<code class="descname">_invert</code><span class="sig-paren">(</span><em>tempdir</em>, <em>catch_output=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal function than runs an inversion using CRTomo.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tempdir</strong> (<em>string</em>) – directory which to use as a tomodir</li>
<li><strong>catch_output</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, catch all outputs of the CRTomo call</li>
<li><strong>cores</strong> (<em>int</em><em>, </em><em>optional</em>) – how many cores to use. defaults to 2</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._model">
<code class="descname">_model</code><span class="sig-paren">(</span><em>voltages</em>, <em>sensitivities</em>, <em>potentials</em>, <em>tempdir</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="crtomo.tdMan._read_eps_ctr">
<em class="property">static </em><code class="descname">_read_eps_ctr</code><span class="sig-paren">(</span><em>tomodir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._read_eps_ctr" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a CRTomo eps.ctr file.</p>
<p>TODO: change parameters to only provide eps.ctr file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tomodir</strong> (<em>string</em>) – Path to directory path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._read_inv_ctr">
<code class="descname">_read_inv_ctr</code><span class="sig-paren">(</span><em>tomodir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._read_inv_ctr" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in selected results of the inv.ctr file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tomodir</strong> (<em>string</em>) – directory path to a tomodir</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>inv_ctr</strong> – structure containing inv.ctr data</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">?</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._read_inversion_results">
<code class="descname">_read_inversion_results</code><span class="sig-paren">(</span><em>tomodir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._read_inversion_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Import resistivity magnitude/phase and real/imaginary part of
conductivity for all iterations</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._read_modeling_results">
<code class="descname">_read_modeling_results</code><span class="sig-paren">(</span><em>directory</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._read_modeling_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Read modeling results from a given mod/ directory. Possible values
to read in are:</p>
<blockquote>
<div><ul class="simple">
<li>voltages</li>
<li>potentials</li>
<li>sensitivities</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._read_potentials">
<code class="descname">_read_potentials</code><span class="sig-paren">(</span><em>pot_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._read_potentials" title="Permalink to this definition">¶</a></dt>
<dd><p>import potentials from a directory</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._read_resm_m">
<code class="descname">_read_resm_m</code><span class="sig-paren">(</span><em>tomodir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._read_resm_m" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the resolution matrix of an inversion</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tomodir</strong> (<em>string</em>) – directory path to a tomodir</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._read_sensitivities">
<code class="descname">_read_sensitivities</code><span class="sig-paren">(</span><em>sens_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._read_sensitivities" title="Permalink to this definition">¶</a></dt>
<dd><p>import sensitivities from a directory</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>check that signs are correct in case CRMod switches potential
electrodes</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._read_voltages">
<code class="descname">_read_voltages</code><span class="sig-paren">(</span><em>voltage_file</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._read_voltages" title="Permalink to this definition">¶</a></dt>
<dd><p>import voltages from a volt.dat file</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._save_potentials">
<code class="descname">_save_potentials</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._save_potentials" title="Permalink to this definition">¶</a></dt>
<dd><p>save potentials to a directory</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan._save_sensitivities">
<code class="descname">_save_sensitivities</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan._save_sensitivities" title="Permalink to this definition">¶</a></dt>
<dd><p>save sensitivities to a directory</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.add_homogeneous_model">
<code class="descname">add_homogeneous_model</code><span class="sig-paren">(</span><em>magnitude</em>, <em>phase=0</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.add_homogeneous_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a homogeneous resistivity model to the tomodir. This is useful
for synthetic measurements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>magnitude</strong> (<em>float</em>) – magnitude [Ohm m] value of the homogeneous model</li>
<li><strong>phase</strong> (<em>float</em><em>, </em><em>optional</em>) – phase [mrad] value of the homogeneous model</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>pid_mag</strong> (<em>int</em>) – ID value of the parameter set of the magnitude model</li>
<li><strong>pid_pha</strong> (<em>int</em>) – ID value of the parameter set of the phase model</li>
<li><em>Note that the parameter sets are automatically registered as the</em></li>
<li><em>forward models for magnitude and phase values.</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.check_measurements_against_sensitivities">
<code class="descname">check_measurements_against_sensitivities</code><span class="sig-paren">(</span><em>magnitude</em>, <em>phase=0</em>, <em>return_plot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.check_measurements_against_sensitivities" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for all configurations if the sensitivities add up to a given
homogeneous model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>magnitude</strong> (<em>float</em>) – magnitude used for the homogeneous model</li>
<li><strong>phase</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0</em>) – phase value used for the homogeneous model</li>
<li><strong>return_plot</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – create a plot analyzing the differences</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>results</strong> (<em>Nx6 numpy.ndarray</em>) – Results of the analysis.<ul>
<li>magnitude measurement [Ohm]</li>
<li>sum of sensitivities [Volt]</li>
<li>relative deviation of sensitivity-sum from measurement [in
percent]</li>
</ul>
</li>
<li><strong>fig</strong> (<em>matplotlib.figure, optional</em>) – figure object. Only returned of return_plot=True</li>
<li><strong>axes</strong> (<em>list</em>) – list of axes corresponding to the figure</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="ch">#!/usr/bin/python</span>
<span class="go">    import crtomo.tdManager as CRtdMan</span>
<span class="go">    tdm = CRtdMan.tdMan(</span>
<span class="go">            elem_file=&#39;grid/elem.dat&#39;,</span>
<span class="go">            elec_file=&#39;grid/elec.dat&#39;,</span>
<span class="go">            config_file=&#39;config/config.dat&#39;,</span>
<span class="go">    )</span>
<span class="go">    results, fig, axes = tdm.check_measurements_against_sensitivities(</span>
<span class="go">            magnitude=100,</span>
<span class="go">            phase=-10,</span>
<span class="go">            return_plot=True</span>
<span class="go">    )</span>
<span class="go">    fig.savefig(&#39;sensitivity_comparison.png&#39;, dpi=300)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.clear_measurements">
<code class="descname">clear_measurements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.clear_measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Forget any previous measurements</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.create_tomodir">
<code class="descname">create_tomodir</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.create_tomodir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a tomodir subdirectory structure in the given directory</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.get_potential">
<code class="descname">get_potential</code><span class="sig-paren">(</span><em>config_nr</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.get_potential" title="Permalink to this definition">¶</a></dt>
<dd><p>Return potential data for a given measurement configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config_nr</strong> (<em>int</em>) – Number of the configurations. Starts at 0</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>pot_data</strong> – First array: magnitude potentials, second array: phase potentials</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list with two numpy.ndarrays</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.get_sensitivity">
<code class="descname">get_sensitivity</code><span class="sig-paren">(</span><em>config_nr</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.get_sensitivity" title="Permalink to this definition">¶</a></dt>
<dd><p>return a sensitivity, as well as corresponding metadata, for a given
measurement configuration. Indices start at zero.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.invert">
<code class="descname">invert</code><span class="sig-paren">(</span><em>output_directory=None</em>, <em>catch_output=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert this instance, and import the result files</p>
<p>No directories/files will be overwritten. Raise an IOError if the
output directory exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output_directory</strong> (<em>string</em><em>, </em><em>optional</em>) – use this directory as output directory for the generated tomodir.
If None, then a temporary directory will be used that is deleted
after import.</li>
<li><strong>catch_output</strong> (<em>bool</em><em>, </em><em>optional</em>) – Do not show CRTomo output</li>
<li><strong>cores</strong> (<em>int</em><em>, </em><em>optional</em>) – how many cores to use for CRTomo</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>return_code</strong> – Return 0 if the inversion completed successfully. Return 1 if no
measurements are present.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.load_rho_file">
<code class="descname">load_rho_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.load_rho_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a forward model from a rho.dat file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – filename to rho.dat file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>pid_mag</strong> (<em>int</em>) – parameter id for the magnitude model</li>
<li><strong>pid_pha</strong> (<em>int</em>) – parameter id for the phase model</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.measurements">
<code class="descname">measurements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the measurements associated with this instance.</p>
<p>if measurements are not present, check if we can model, and then
run CRMod to load the measurements.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.model">
<code class="descname">model</code><span class="sig-paren">(</span><em>voltages=True</em>, <em>sensitivities=False</em>, <em>potentials=False</em>, <em>output_directory=None</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward model the tomodir and read in the results</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.plot_eps_data">
<code class="descname">plot_eps_data</code><span class="sig-paren">(</span><em>dfs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.plot_eps_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.plot_eps_data_hist">
<code class="descname">plot_eps_data_hist</code><span class="sig-paren">(</span><em>dfs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.plot_eps_data_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot histograms of data residuals and data error weighting</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.plot_forward_models">
<code class="descname">plot_forward_models</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.plot_forward_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the forward models (requires the forward models to be loaded)</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.plot_inversion_evolution">
<code class="descname">plot_inversion_evolution</code><span class="sig-paren">(</span><em>df</em>, <em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.plot_inversion_evolution" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.plot_sensitivity">
<code class="descname">plot_sensitivity</code><span class="sig-paren">(</span><em>config_nr</em>, <em>mag_only=False</em>, <em>absv=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.plot_sensitivity" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a nice looking plot of the sensitivity distribution for the
given configuration nr. Configs start at 1!</p>
<dl class="docutils">
<dt>absv: bool</dt>
<dd>If true, plot absolute values of sensitivity</dd>
</dl>
<p class="rubric">Examples</p>
<p>(<a class="reference external" href="../api/crtomo-10.py">Source code</a>, <a class="reference external" href="../api/crtomo-10.png">png</a>, <a class="reference external" href="../api/crtomo-10.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-10.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-10.png" src="../_images/crtomo-10.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.read_inversion_results">
<code class="descname">read_inversion_results</code><span class="sig-paren">(</span><em>tomodir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.read_inversion_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Import inversion results from a tomodir into this instance</p>
<p>WARNING: Not finished!</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.register_forward_model">
<code class="descname">register_forward_model</code><span class="sig-paren">(</span><em>pid_mag</em>, <em>pid_pha</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.register_forward_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Register parameter sets as the forward models for magnitude and
phase</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pid_mag</strong> (<em>int</em>) – parameter id corresponding to the magnitude model</li>
<li><strong>pid_pha</strong> (<em>int</em>) – parameter id corresponding to the phase model</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.register_magnitude_model">
<code class="descname">register_magnitude_model</code><span class="sig-paren">(</span><em>pid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.register_magnitude_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a given parameter model to the forward magnitude model</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.register_measurements">
<code class="descname">register_measurements</code><span class="sig-paren">(</span><em>mag</em>, <em>pha=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.register_measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Register measurements as magnitude/phase measurements used for the
inversion</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mag</strong> (<em>int|numpy.ndarray</em>) – magnitude measurements id for the corresponding measurement data in
self.configs.measurements. If mag is a numpy.ndarray, assume
mag to be the data itself an register it</li>
<li><strong>pha</strong> (<em>int</em><em>, </em><em>optional</em>) – phase measurements id for the corresponding measurement data in
self.configs.measurements. If not present, a new measurement set
will be added with zeros only.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.register_phase_model">
<code class="descname">register_phase_model</code><span class="sig-paren">(</span><em>pid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.register_phase_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a given parameter model to the forward phase model</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.save_to_tomodir">
<code class="descname">save_to_tomodir</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.save_to_tomodir" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the tomodir instance to a directory structure.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Test cases:</p>
<blockquote class="last">
<div><ul class="simple">
<li>modeling only</li>
<li>inversion only</li>
<li>modeling and inversion</li>
</ul>
</div></blockquote>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.tdMan.show_parset">
<code class="descname">show_parset</code><span class="sig-paren">(</span><em>pid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.tdMan.show_parset" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a given parameter set</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="crtomo.eitMan">
<em class="property">class </em><code class="descclassname">crtomo.</code><code class="descname">eitMan</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manage sEIT data</p>
<dl class="method">
<dt id="crtomo.eitMan._init_frequencies">
<code class="descname">_init_frequencies</code><span class="sig-paren">(</span><em>frequencies</em>, <em>configs_abmn=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan._init_frequencies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.add_homogeneous_model">
<code class="descname">add_homogeneous_model</code><span class="sig-paren">(</span><em>magnitude</em>, <em>phase=0</em>, <em>frequency=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.add_homogeneous_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Add homogeneous models to one or all tomodirs. Register those as
forward models</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>magnitude</strong> (<em>float</em>) – Value of homogeneous magnitude model</li>
<li><strong>phase</strong> (<em>float</em><em>, </em><em>optional</em>) – Value of homogeneous phase model. Default 0</li>
<li><strong>frequency</strong> (<em>float</em><em>, </em><em>optional</em>) – Frequency of of the tomodir to use. If None, then apply to all
tomodirs. Default is None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.add_to_configs">
<code class="descname">add_to_configs</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.add_to_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Add configurations to all tomodirs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – Nx4 numpy array with abmn configurations</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.apply_crtomo_cfg">
<code class="descname">apply_crtomo_cfg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.apply_crtomo_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the global crtomo_cfg for all frequencies</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.apply_noise_models">
<code class="descname">apply_noise_models</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.apply_noise_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the global noise_model for all frequencies</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.extract_points">
<code class="descname">extract_points</code><span class="sig-paren">(</span><em>label</em>, <em>points</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.extract_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract data points along a given line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>label</strong> (<em>str</em>) – the label for the assignments.</li>
<li><strong>points</strong> (<em>Nx2 numpy.ndarray</em>) – (x, y) pairs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>df_all</strong> – A dataframe with the extracted data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pandas.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.get_measurement_responses">
<code class="descname">get_measurement_responses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.get_measurement_responses" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of sip_responses for the modeled SIP spectra</p>
<p>Note that this function does NOT check that each frequency contains the
same configurations!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>responses</strong> – Dictionary with configurations as keys</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.load_data_crt_files">
<code class="descname">load_data_crt_files</code><span class="sig-paren">(</span><em>data_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.load_data_crt_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Load sEIT data from .ctr files (volt.dat files readable by CRTomo,
produced by CRMod)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dict</strong> (<em>dict</em>) – Data files that are imported. See example down below</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">glob</span>
<span class="go">    data_files = {}</span>
<span class="go">    data_files[&#39;frequencies&#39;] = &#39;data/frequencies.dat&#39;</span>
<span class="go">    files = sorted(glob.glob(&#39;data/volt_*.crt&#39;))</span>
<span class="go">    data_files[&#39;crt&#39;] = files</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.load_inversion_results">
<code class="descname">load_inversion_results</code><span class="sig-paren">(</span><em>sipdir</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.load_inversion_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an sEIT inversion directory, load inversion results and store
the corresponding parameter ids in self.assignments</p>
<p>Note that all previous data stored in this instance of the eitManager
will be overwritten, if required!</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.measurements">
<code class="descname">measurements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Return modeled measurements</p>
<ol class="arabic simple">
<li>dimension: frequency</li>
<li>dimension: config-number</li>
<li>dimension: 2: magnitude and phase (resistivity)</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.model">
<code class="descname">model</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the forward modeling for all frequencies.</p>
<p>Use <a class="reference internal" href="#crtomo.eitManager.eitMan.measurements" title="crtomo.eitManager.eitMan.measurements"><code class="xref py py-func docutils literal notranslate"><span class="pre">crtomo.eitManager.eitMan.measurements()</span></code></a> to retrieve the
resulting synthetic measurement spectra.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>**kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – All kwargs are directly provide to the underlying
<a class="reference internal" href="#crtomo.tdManager.tdMan.model" title="crtomo.tdManager.tdMan.model"><code class="xref py py-func docutils literal notranslate"><span class="pre">crtomo.tdManager.tdMan.model()</span></code></a> function calls.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.plot_forward_models">
<code class="descname">plot_forward_models</code><span class="sig-paren">(</span><em>maglim=None</em>, <em>phalim=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.plot_forward_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Create plots of the forward models</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>mag_fig</strong> – Dictionary containing the figure and axes objects of the magnitude
plots</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.save_to_eitdir">
<code class="descname">save_to_eitdir</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.save_to_eitdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the eit data into a eit/sip directory structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>directory</strong> (<em>string|path</em>) – output directory</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.set_area_to_single_colecole">
<code class="descname">set_area_to_single_colecole</code><span class="sig-paren">(</span><em>xmin</em>, <em>xmax</em>, <em>zmin</em>, <em>zmax</em>, <em>ccpars</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.set_area_to_single_colecole" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.eitMan.set_area_to_sip_signature">
<code class="descname">set_area_to_sip_signature</code><span class="sig-paren">(</span><em>xmin</em>, <em>xmax</em>, <em>zmin</em>, <em>zmax</em>, <em>spectrum</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.eitMan.set_area_to_sip_signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameterize the eit instance by supplying one
SIP spectrum and the area to apply to.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xmin</strong> (<em>float</em>) – Minimum x coordinate of the area</li>
<li><strong>xmax</strong> (<em>float</em>) – Maximum x coordinate of the area</li>
<li><strong>zmin</strong> (<em>float</em>) – Minimum z coordinate of the area</li>
<li><strong>zmax</strong> (<em>float</em>) – Maximum z coordinate of the area</li>
<li><strong>spectrum</strong> (<em>sip_response</em>) – SIP spectrum to use for parameterization</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="crtomo.crt_grid">
<em class="property">class </em><code class="descclassname">crtomo.</code><code class="descname">crt_grid</code><span class="sig-paren">(</span><em>elem_file=None</em>, <em>elec_file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The <a class="reference internal" href="#crtomo.crt_grid" title="crtomo.crt_grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">crt_grid</span></code></a> holds and manages one Finite-Element grid.</p>
<p>This class provides only basic plotting routines. Advanced plotting
routines can be found in <a class="reference internal" href="#module-crtomo.plotManager" title="crtomo.plotManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.plotManager</span></code></a>.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">crtomo.grid</span> <span class="k">as</span> <span class="nn">CRGrid</span>
<span class="go">    grid = CRGrid(elem_file=&#39;elem.dat&#39;, elec_file=&#39;elec.dat&#39;)</span>
<span class="go">    print(grid)</span>
<span class="go">CRMod/CTRomo grid instance</span>
<span class="go">number of elements: 2728</span>
<span class="go">number of nodes: 1440</span>
<span class="go">number of electrodes: 60</span>
<span class="go">grid dimsensions:</span>
<span class="go">    X: -7.5 37.5</span>
<span class="go">    Z: -15.0 0.0</span>
</pre></div>
</div>
<dl class="method">
<dt id="crtomo.crt_grid.Wm">
<code class="descname">Wm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.Wm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the smoothing regularization matrix Wm</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid._prepare_grids">
<code class="descname">_prepare_grids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid._prepare_grids" title="Permalink to this definition">¶</a></dt>
<dd><p>depending on the type of grid (rectangular or triangle), prepare grids
or triangle lists</p>
<dl class="docutils">
<dt>TODO: We want some nice way of not needing to know in the future if we</dt>
<dd>loaded triangles or quadratic elements.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid._read_elem_elements">
<code class="descname">_read_elem_elements</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid._read_elem_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all FE elements from the file stream. Elements are stored in
the self.element_data dict. The keys refer to the element types:</p>
<blockquote>
<div><ul class="simple">
<li>3: Triangular grid (three nodes)</li>
<li>8: Quadrangular grid (four nodes)</li>
<li>11: Mixed boundary element</li>
<li>12: Neumann (no-flow) boundary element</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid._read_elem_header">
<code class="descname">_read_elem_header</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid._read_elem_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid._read_elem_neighbors">
<code class="descname">_read_elem_neighbors</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid._read_elem_neighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the boundary-element-neighbors from the end of the file</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid._read_elem_nodes">
<code class="descname">_read_elem_nodes</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid._read_elem_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the nodes from an opened elem.dat file. Correct for CutMcK
transformations.</p>
<p>We store three typed of nodes in the dict ‘nodes’:</p>
<blockquote>
<div><ul class="simple">
<li>“raw” : as read from the elem.dat file</li>
<li>“presort” : pre-sorted so we can directly read node numbers from
a elec.dat file and use them as indices.</li>
<li><dl class="first docutils">
<dt>“sorted” <span class="classifier-delimiter">:</span> <span class="classifier">completely sorted as in the original grid (before any</span></dt>
<dd>CutMcK)</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>For completeness, we also store the following keys:</p>
<blockquote>
<div><ul class="simple">
<li>“cutmck_index” : Array containing the indices in “presort” to
obtain the “sorted” values:
nodes[‘sorted’] = nodes[‘presort’] [nodes[‘cutmck_index’], :]</li>
<li>“rev_cutmck_index” : argsort(cutmck_index)</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid._write_elem_header">
<code class="descname">_write_elem_header</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid._write_elem_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid._write_elements">
<code class="descname">_write_elements</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid._write_elements" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid._write_neighbors">
<code class="descname">_write_neighbors</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid._write_neighbors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid._write_nodes">
<code class="descname">_write_nodes</code><span class="sig-paren">(</span><em>fid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid._write_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.add_grid_data">
<code class="descname">add_grid_data</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.add_grid_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return id</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.analyze_internal_angles">
<code class="descname">analyze_internal_angles</code><span class="sig-paren">(</span><em>return_plot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.analyze_internal_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze the internal angles of the grid. Angles shouldn’t be too
small because this can cause problems/uncertainties in the
Finite-Element solution of the forward problem. This function prints
the min/max values, as well as quantiles, to the command line, and can
also produce a histogram plot of the angles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_plot</strong> (<em>bool</em>) – if true, return (fig, ax) objects of the histogram plot</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>fig</strong> (<em>matplotlib.figure</em>) – figure object</li>
<li><strong>ax</strong> (<em>matplotlib.axes</em>) – axes object</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">crtomo.grid</span> <span class="k">as</span> <span class="nn">CRGrid</span>
<span class="go">    grid = CRGrid.crt_grid()</span>
<span class="go">    grid.load_elem_file(&#39;elem.dat&#39;)</span>
<span class="go">    fig, ax = grid.analyze_internal_angles(Angles)</span>
<span class="go">This grid was sorted using CutMcK. The nodes were resorted!</span>
<span class="go">Triangular grid found</span>
<span class="go">Minimal angle: 22.156368696965796 degrees</span>
<span class="go">Maximal angle: 134.99337326279496 degrees</span>
<span class="go">Angle percentile 10%: 51.22 degrees</span>
<span class="go">Angle percentile 20%: 55.59 degrees</span>
<span class="go">Angle percentile 30%: 58.26 degrees</span>
<span class="go">Angle percentile 40%: 59.49 degrees</span>
<span class="go">Angle percentile 50%: 59.95 degrees</span>
<span class="go">Angle percentile 60%: 60.25 degrees</span>
<span class="go">Angle percentile 70%: 61.16 degrees</span>
<span class="go">Angle percentile 80%: 63.44 degrees</span>
<span class="go">Angle percentile 90%: 68.72 degrees</span>
<span class="go">generating plot...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># save to file with</span>
<span class="go">    fig.savefig(&#39;element_angles.png&#39;, dpi=300)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.calculate_dimensions">
<code class="descname">calculate_dimensions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.calculate_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>For a regular grid, calculate the element and node dimensions</p>
</dd></dl>

<dl class="staticmethod">
<dt id="crtomo.crt_grid.create_surface_grid">
<em class="property">static </em><code class="descname">create_surface_grid</code><span class="sig-paren">(</span><em>nr_electrodes=None</em>, <em>spacing=None</em>, <em>electrodes_x=None</em>, <em>depth=None</em>, <em>left=None</em>, <em>right=None</em>, <em>char_lengths=None</em>, <em>lines=None</em>, <em>debug=False</em>, <em>workdir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.create_surface_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a simple wrapper for cr_trig_create to create simple surface
grids.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>nr_electrodes</strong> (<em>int</em><em>, </em><em>optional</em>) – the number of surface electrodes</li>
<li><strong>spacing</strong> (<em>float</em><em>, </em><em>optional</em>) – the spacing between electrodes, usually in [m], required if nr of
electrodes is given</li>
<li><strong>electrodes_x</strong> (<em>array</em><em>, </em><em>optional</em>) – x-electrode positions can be provided here, e.g., for
non-equidistant electrode distances</li>
<li><strong>depth</strong> (<em>float</em><em>, </em><em>optional</em>) – the depth of the grid. If not given, this is computed as half the
maximum distance between electrodes</li>
<li><strong>left</strong> (<em>float</em><em>, </em><em>optional</em>) – the space allocated left of the first electrode. If not given,
compute as a fourth of the maximum inter-electrode distance</li>
<li><strong>right</strong> (<em>float</em><em>, </em><em>optional</em>) – the space allocated right of the first electrode. If not given,
compute as a fourth of the maximum inter-electrode distance</li>
<li><strong>char_lengths</strong> (<em>float|list of 4 floats</em><em>, </em><em>optional</em>) – characteristic lengths, as used by cr_trig_create</li>
<li><strong>lines</strong> (<em>list of floats</em><em>, </em><em>optional</em>) – at the given depths, add horizontal lines in the grid. Note that
all positive values will be multiplied by -1!</li>
<li><strong>debug</strong> (<em>bool</em><em>, </em><em>optional</em>) – default: False. If true, don’t hide the output of cr_trig_create</li>
<li><strong>workdir</strong> (<em>string</em><em>, </em><em>optional</em>) – if set, use this directory to create the grid. Don’t delete files
afterwards.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>grid</strong> – the generated grid</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#crtomo.grid.crt_grid" title="crtomo.grid.crt_grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">crtomo.grid.crt_grid</span></code></a> instance</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">crtomo.grid</span> <span class="k">import</span> <span class="n">crt_grid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">crt_grid</span><span class="o">.</span><span class="n">create_surface_grid</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">left</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">char_lengths</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">lines</span><span class="o">=</span><span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">],</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">workdir</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pylab</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">plot_grid_to_ax</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="crtomo.crt_grid.element">
<em class="property">class </em><code class="descname">element</code><a class="headerlink" href="#crtomo.crt_grid.element" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="crtomo.crt_grid.element.center">
<code class="descname">center</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.element.center" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="crtomo.crt_grid.element_neighbors">
<code class="descname">element_neighbors</code><a class="headerlink" href="#crtomo.crt_grid.element_neighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with element numbers (zero indexed) of neighboring
elements. Note that the elements are not sorted. No spacial orientation
can be inferred from the order of neighbors.</p>
<p>WARNING: This function is slow due to a nested loop. This would be a
good starting point for further optimizations.</p>
<p>In order to speed things up, we could search using the raw data, i.e.,
with CutMcK enabled sorting, and then restrict the loops to the 2x the
bandwidth (before - after).</p>
<p>While not being returned, this function also sets the variable
self.element_neighbors_edges, in which the common nodes with each
neighbor are stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>neighbors</strong> – a list (length equal to nr of elements) with neighboring elements</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.get_electrode_node">
<code class="descname">get_electrode_node</code><span class="sig-paren">(</span><em>electrode</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.get_electrode_node" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given electrode (e.g. from a config.dat file), return the true
node number as in self.nodes[‘sorted’]</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.get_electrode_positions">
<code class="descname">get_electrode_positions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.get_electrode_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the electrode positions in an numpy.ndarray</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>positions</strong> – Nx2 array, where N is the number of electrodes. The first column
contains x positions, the second z positions.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.get_element_centroids">
<code class="descname">get_element_centroids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.get_element_centroids" title="Permalink to this definition">¶</a></dt>
<dd><p>return the central points of all elements</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">x/z coordinates for all (N) elements</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Nx2 array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.get_internal_angles">
<code class="descname">get_internal_angles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.get_internal_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute all internal angles of the grid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">NxK array with N the number of elements, and K the number of nodes,
filled with the internal angles in degrees</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.get_minmax">
<code class="descname">get_minmax</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.get_minmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Return min/max x/z coordinates of grid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>x</strong> (<em>[float, float]</em>) – min, max values of grid dimensions in x direction (sideways)</li>
<li><strong>z</strong> (<em>[float, float]</em>) – min, max values of grid dimensions in z direction (downwards)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.load_elec_file">
<code class="descname">load_elec_file</code><span class="sig-paren">(</span><em>elec_file</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.load_elec_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.load_elem_file">
<code class="descname">load_elem_file</code><span class="sig-paren">(</span><em>elem_file</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.load_elem_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.load_grid">
<code class="descname">load_grid</code><span class="sig-paren">(</span><em>elem_file</em>, <em>elec_file</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.load_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Load elem.dat and elec.dat</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.plot_grid">
<code class="descname">plot_grid</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.plot_grid" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Other Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><strong>plot_electrode_numbers</strong> (<em>bool, optional</em>) – Plot electrode numbers in the grid, default: False</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.plot_grid_to_ax">
<code class="descname">plot_grid_to_ax</code><span class="sig-paren">(</span><em>ax</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.plot_grid_to_ax" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Other Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><strong>plot_electrode_numbers</strong> (<em>bool, optional</em>) – Plot electrode numbers in the grid, default: False</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.save_elec_file">
<code class="descname">save_elec_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.save_elec_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.save_elem_file">
<code class="descname">save_elem_file</code><span class="sig-paren">(</span><em>output</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.save_elem_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Save elem.dat to file.
The grid is saved as read in, i.e., with or without applied cutmck.
If you want to change node coordinates, use self.nodes[‘raw’]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – output filename</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.crt_grid.test_plot">
<code class="descname">test_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.crt_grid.test_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="crtomo.noise_model">
<em class="property">class </em><code class="descclassname">crtomo.</code><code class="descname">noise_model</code><span class="sig-paren">(</span><em>seed</em>, <em>mag_rel=0</em>, <em>mag_abs=0</em>, <em>pha_a1=0</em>, <em>pha_b1=0</em>, <em>pha_rel=0</em>, <em>pha_abs=0</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.noise_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>noise model as contained in the crt.noisemod file</p>
<p class="rubric">Notes</p>
<ol class="arabic simple">
<li>line: 1       # Ensemble seed</li>
<li>line: 0.300 # Relative error resistance A (noise) [%] dR=AR+B</li>
<li>line: 0.100E-01 # Absolute errior resistance B (noise) [Ohm m]</li>
<li>line: 0.00  # Phase error parameter A1 [mRad/Ohm/m] dp=A1*R^B1+A2*p+p0</li>
<li>line: 0.00        # Phase error parameter B1 (noise) []</li>
<li>line: 0.00        # Relative phase error A2 (noise) [%]</li>
<li>line: 0.00        # Absolute phase error p0 (noise) [mRad]</li>
</ol>
<dl class="method">
<dt id="crtomo.noise_model.write_crt_noisemod">
<code class="descname">write_crt_noisemod</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.noise_model.write_crt_noisemod" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="crtomo.ConfigManager">
<em class="property">class </em><code class="descclassname">crtomo.</code><code class="descname">ConfigManager</code><span class="sig-paren">(</span><em>nr_of_electrodes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The class`ConfigManager` manages four-point measurement configurations.
Measurements can be saved/loaded from CRMod/CRTomo files, and new
configurations can be created.</p>
<dl class="method">
<dt id="crtomo.ConfigManager._crmod_to_abmn">
<code class="descname">_crmod_to_abmn</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager._crmod_to_abmn" title="Permalink to this definition">¶</a></dt>
<dd><p>convert crmod-style configurations to a Nx4 array</p>
<p>CRMod-style configurations merge A and B, and M and N, electrode
numbers into one large integer each:</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}AB = A \cdot 10^4 + B\\MN = M \cdot 10^4 + N\end{aligned}\end{align} \]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configs</strong> (<em>numpy.ndarray</em>) – Nx2 array holding the configurations to convert</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="go">    import crtomo.configManager as CRconfig</span>
<span class="go">    config = CRconfig.ConfigManager(nr_of_electrodes=5)</span>
<span class="go">    # generate some CRMod-style configurations</span>
<span class="go">    crmod_configs = np.array((</span>
<span class="go">        (10002, 40003),</span>
<span class="go">        (10010, 30004),</span>
<span class="go">    ))</span>
<span class="go">    abmn = config._crmod_to_abmn(crmod_configs)</span>
<span class="go">    print(abmn)</span>
<span class="go">[[  2.   1.   3.   4.]</span>
<span class="go"> [ 10.   1.   4.   3.]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager._get_crmod_abmn">
<code class="descname">_get_crmod_abmn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager._get_crmod_abmn" title="Permalink to this definition">¶</a></dt>
<dd><p>return a Nx2 array with the measurement configurations formatted
CRTomo style</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager._get_next_index">
<code class="descname">_get_next_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager._get_next_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="crtomo.ConfigManager._get_unique_identifiers">
<em class="property">static </em><code class="descname">_get_unique_identifiers</code><span class="sig-paren">(</span><em>ee_raw</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager._get_unique_identifiers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager._pseudodepths_dd_simple">
<code class="descname">_pseudodepths_dd_simple</code><span class="sig-paren">(</span><em>configs</em>, <em>spacing=1</em>, <em>grid=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager._pseudodepths_dd_simple" title="Permalink to this definition">¶</a></dt>
<dd><p>Given distances between electrodes, compute dipole-dipole pseudo
depths for the provided configuration</p>
<p>The pseudodepth is computed after Roy &amp; Apparao, 1971, as 0.195 times
the distance between the two outermost electrodes.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager._pseudodepths_schlumberger">
<code class="descname">_pseudodepths_schlumberger</code><span class="sig-paren">(</span><em>configs</em>, <em>spacing=1</em>, <em>grid=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager._pseudodepths_schlumberger" title="Permalink to this definition">¶</a></dt>
<dd><p>Given distances between electrodes, compute Schlumberger pseudo
depths for the provided configuration</p>
<p>The pseudodepth is computed after Roy &amp; Apparao, 1971, as 0.125 times
the distance between the two outermost electrodes.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager._pseudodepths_wenner">
<code class="descname">_pseudodepths_wenner</code><span class="sig-paren">(</span><em>configs</em>, <em>spacing=1</em>, <em>grid=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager._pseudodepths_wenner" title="Permalink to this definition">¶</a></dt>
<dd><p>Given distances between electrodes, compute Wenner pseudo
depths for the provided configuration</p>
<p>The pseudodepth is computed after Roy &amp; Apparao, 1971, as 0.11 times
the distance between the two outermost electrodes. It’s not really
clear why the Wenner depths are different from the Dipole-Dipole
depths, given the fact that Wenner configurations are a complete subset
of the Dipole-Dipole configurations.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.add_measurements">
<code class="descname">add_measurements</code><span class="sig-paren">(</span><em>measurements</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.add_measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new measurements to this instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>measurements</strong> (<em>numpy.ndarray</em>) – one or more measurement sets. It must either be 1D or 2D, with the
first dimension the number of measurement sets (K), and the second
the number of measurements (N): K x N</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>mid</strong> – measurement ID used to extract the measurements later on</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="go">    import crtomo.configManager as CRconfig</span>
<span class="go">    config = CRconfig.ConfigManager(nr_of_electrodes=10)</span>
<span class="go">    config.gen_dipole_dipole(skipc=0)</span>
<span class="go">    # generate some random noise</span>
<span class="go">    random_measurements = np.random.random(config.nr_of_configs)</span>
<span class="go">    mid = config.add_measurements(random_measurements)</span>
<span class="go">    # retrieve using mid</span>
<span class="go">    print(config.measurements[mid])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.add_noise">
<code class="descname">add_noise</code><span class="sig-paren">(</span><em>cid</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.add_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Add noise to a data set and return a new cid for the noised data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cid</strong> (<em>int</em>) – ID for the data set to add noise to</li>
<li><strong>positive</strong> (<em>bool</em>) – if True, then set measurements to np.nan that are negative</li>
<li><strong>seed</strong> (<em>int</em><em>, </em><em>optional</em>) – set the seed used to initialize the random number generator</li>
<li><strong>relative</strong> (<em>float</em>) – standard deviation of error</li>
<li><strong>absolute</strong> (<em>float</em>) – mean value of normal distribution</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cid_noise</strong> – ID pointing to noised data set</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is a stub at the moment and has NO functionality.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.add_to_configs">
<code class="descname">add_to_configs</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.add_to_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one or more measurement configurations to the stored
configurations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configs</strong> (<em>list</em><em> or </em><em>numpy.ndarray</em>) – list or array of configurations</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>configs</strong> – array holding all configurations of this instance</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Kx4 numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.clear_configs">
<code class="descname">clear_configs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.clear_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all configs. This implies deleting all measurements.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.clear_measurements">
<code class="descname">clear_measurements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.clear_measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all measurements from self.measurements. Reset the
measurement counter. All ID are invalidated.</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.compute_K_factors">
<code class="descname">compute_K_factors</code><span class="sig-paren">(</span><em>spacing=None</em>, <em>configs=None</em>, <em>numerical=False</em>, <em>elem_file=None</em>, <em>elec_file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.compute_K_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute analytical geometrical factors.</p>
<p>TODO: use real electrode positions from self.grid</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.delete_measurements">
<code class="descname">delete_measurements</code><span class="sig-paren">(</span><em>mid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.delete_measurements" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.gen_all_current_dipoles">
<code class="descname">gen_all_current_dipoles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.gen_all_current_dipoles" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate all possible current dipoles for the given number of
electrodes (self.nr_electrodes). Duplicates are removed in the process.</p>
<p>After Noel and Xu, 1991, for N electrodes, the number of possible
unique configurations is <span class="math notranslate nohighlight">\(N \cdot (N - 1) / 2\)</span>. This excludes
duplicates in the form of switches current/voltages electrodes, as well
as reciprocal measurements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>configs</strong> – all possible current dipoles A-B</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Nx2 numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.gen_all_voltages_for_injections">
<code class="descname">gen_all_voltages_for_injections</code><span class="sig-paren">(</span><em>injections_raw</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.gen_all_voltages_for_injections" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given set of current injections AB, generate all possible
unique potential measurements.</p>
<p>After Noel and Xu, 1991, for N electrodes, the number of possible
voltage dipoles for a given current dipole is <span class="math notranslate nohighlight">\((N - 2)(N - 3) /
2\)</span>. This includes normal and reciprocal measurements.</p>
<p>If current dipoles are generated with
ConfigManager.gen_all_current_dipoles(), then <span class="math notranslate nohighlight">\(N \cdot (N - 1) /
2\)</span> current dipoles are generated. Thus, this function will produce
<span class="math notranslate nohighlight">\((N - 1)(N - 2)(N - 3) / 4\)</span> four-point configurations ABMN, half
of which are reciprocals (Noel and Xu, 1991).</p>
<p>All generated measurements are added to the instance.</p>
<p>Use ConfigManager.split_into_normal_and_reciprocal() to split the
configurations into normal and reciprocal measurements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>injections</strong> (<em>numpy.ndarray</em>) – Kx2 array holding K current injection dipoles A-B</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>configs</strong> – Nax4 array holding all possible measurement configurations</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.gen_configs_permutate">
<code class="descname">gen_configs_permutate</code><span class="sig-paren">(</span><em>injections_raw</em>, <em>only_same_dipole_length=False</em>, <em>ignore_crossed_dipoles=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.gen_configs_permutate" title="Permalink to this definition">¶</a></dt>
<dd><p>Create measurement configurations out of a pool of current injections.
Use only the provided dipoles for potential dipole selection. This
means that we have always reciprocal measurements.</p>
<p>Remove quadpoles where electrodes are used both as current and voltage
dipoles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>injections_raw</strong> (<em>Nx2 array</em>) – current injections</li>
<li><strong>only_same_dipole_length</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, only generate permutations for the same dipole length</li>
<li><strong>ignore_crossed_dipoles</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, potential dipoles will be ignored that lie between current
dipoles,  e.g. 1-4 3-5. In this case it is possible to not have
full normal-reciprocal coverage.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>configs</strong> – quadrupoles generated out of the current injections</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Nx4 array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.gen_dipole_dipole">
<code class="descname">gen_dipole_dipole</code><span class="sig-paren">(</span><em>skipc</em>, <em>skipv=None</em>, <em>stepc=1</em>, <em>stepv=1</em>, <em>nr_voltage_dipoles=10</em>, <em>before_current=False</em>, <em>start_skip=0</em>, <em>N=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.gen_dipole_dipole" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate dipole-dipole configurations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>skipc</strong> (<em>int</em>) – number of electrode positions that are skipped between electrodes
of a given dipole</li>
<li><strong>skipv</strong> (<em>int</em>) – steplength between subsequent voltage dipoles. A steplength of 0
will produce increments by one, i.e., 3-4, 4-5, 5-6 …</li>
<li><strong>stepc</strong> (<em>int</em>) – steplength between subsequent current dipoles. A steplength of 0
will produce increments by one, i.e., 3-4, 4-5, 5-6 …</li>
<li><strong>stepv</strong> (<em>int</em>) – steplength between subsequent voltage dipoles. A steplength of 0
will produce increments by one, i.e., 3-4, 4-5, 5-6 …</li>
<li><strong>nr_voltage_dipoles</strong> (<em>int</em>) – the number of voltage dipoles to generate for each current
injection dipole</li>
<li><strong>before_current</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set to True, also generate voltage dipoles in front of current
dipoles.</li>
<li><strong>start_skip</strong> (<em>int</em><em>, </em><em>optional</em>) – how many electrode to skip before/after the first/second current
electrode.</li>
<li><strong>N</strong> (<em>int</em><em>, </em><em>optional</em>) – number of electrodes, must be given if not already known by the
config instance</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRconfig</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">CRconfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">plot_pseudodepths</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-11.py">Source code</a>, <a class="reference external" href="../api/crtomo-11.png">png</a>, <a class="reference external" href="../api/crtomo-11.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-11.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-11.png" src="../_images/crtomo-11.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.gen_gradient">
<code class="descname">gen_gradient</code><span class="sig-paren">(</span><em>skip=0</em>, <em>step=1</em>, <em>vskip=0</em>, <em>vstep=1</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.gen_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate gradient measurements</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>skip</strong> (<em>int</em>) – distance between current electrodes</li>
<li><strong>step</strong> (<em>int</em>) – steplength between subsequent current dipoles</li>
<li><strong>vskip</strong> (<em>int</em>) – distance between voltage electrodes</li>
<li><strong>vstep</strong> (<em>int</em>) – steplength between subsequent voltage dipoles</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.gen_reciprocals">
<code class="descname">gen_reciprocals</code><span class="sig-paren">(</span><em>quadrupoles</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.gen_reciprocals" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given set of quadrupoles, generate and return reciprocals</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.gen_schlumberger">
<code class="descname">gen_schlumberger</code><span class="sig-paren">(</span><em>M</em>, <em>N</em>, <em>a=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.gen_schlumberger" title="Permalink to this definition">¶</a></dt>
<dd><p>generate one Schlumberger sounding configuration, that is, one set
of configurations for one potential dipole MN.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<em>int</em>) – electrode number for the first potential electrode</li>
<li><strong>N</strong> (<em>int</em>) – electrode number for the second potential electrode</li>
<li><strong>a</strong> (<em>int</em><em>, </em><em>optional</em>) – stepping between subsequent voltage electrodes. If not set,
determine it as a = abs(M - N)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>configs</strong> – array holding the configurations</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Kx4 numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>from crtomo.mpl_setup import *
import crtomo.configManager as CRconfig
config = CRconfig.ConfigManager(nr_of_electrodes=40)
config.gen_schlumberger(M=20, N=21)</p>
<p>(<a class="reference external" href="../api/crtomo-12.py">Source code</a>, <a class="reference external" href="../api/crtomo-12.png">png</a>, <a class="reference external" href="../api/crtomo-12.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-12.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-12.png" src="../_images/crtomo-12.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.gen_voltage_dipoles_skip">
<code class="descname">gen_voltage_dipoles_skip</code><span class="sig-paren">(</span><em>cinj</em>, <em>skip=0</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.gen_voltage_dipoles_skip" title="Permalink to this definition">¶</a></dt>
<dd><p>For given current injections, generate all possible voltage dipoles
with skip <strong>skip</strong>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cinj</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – Nx2 array containing the current injection electrodes a,b</li>
<li><strong>skip</strong> (<em>int</em><em>, </em><em>optional</em>) – Skip used for voltage electrodes. Default: 0</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.gen_wenner">
<code class="descname">gen_wenner</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.gen_wenner" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate Wenner measurement configurations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>a</strong> (<em>int</em>) – distance (in electrodes) between subsequent electrodes of each
four-point configuration.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>configs</strong> – array holding the configurations</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Kx4 numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="crtomo.ConfigManager.get_unique_injections">
<code class="descname">get_unique_injections</code><a class="headerlink" href="#crtomo.ConfigManager.get_unique_injections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.load_configs">
<code class="descname">load_configs</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.load_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Load configurations from a file with four columns a b m n</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – absolute or relative path to a config file with four columns</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.load_crmod_config">
<code class="descname">load_crmod_config</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.load_crmod_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a CRMod configuration file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – absolute or relative path to a crmod config.dat file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.load_crmod_volt">
<code class="descname">load_crmod_volt</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.load_crmod_volt" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a CRMod measurement file (commonly called volt.dat)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – path to filename</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of measurement ids</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="crtomo.ConfigManager.nr_of_configs">
<code class="descname">nr_of_configs</code><a class="headerlink" href="#crtomo.ConfigManager.nr_of_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of configurations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>nr_of_configs</strong> – number of configurations stored in this instance</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.plot_error_pars">
<code class="descname">plot_error_pars</code><span class="sig-paren">(</span><em>mid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.plot_error_pars" title="Permalink to this definition">¶</a></dt>
<dd><p>???</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.plot_pseudodepths">
<code class="descname">plot_pseudodepths</code><span class="sig-paren">(</span><em>spacing=1</em>, <em>grid=None</em>, <em>ctypes=None</em>, <em>dd_merge=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.plot_pseudodepths" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot pseudodepths for the measurements. If grid is given, then the
actual electrode positions are used, and the parameter ‘spacing’ is
ignored’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>spacing</strong> (<em>float</em><em>, </em><em>optional</em>) – assumed distance between electrodes. Default=1</li>
<li><strong>grid</strong> (<em>crtomo.grid.crt_grid instance</em><em>, </em><em>optional</em>) – grid instance. Used to infer real electrode positions</li>
<li><strong>ctypes</strong> (<em>list of strings</em><em>, </em><em>optional</em>) – <p>a list of configuration types that will be plotted. All
configurations that can not be sorted into these types will not be
plotted! Possible types:</p>
<ul>
<li>dd</li>
<li>schlumberger</li>
</ul>
</li>
<li><strong>dd_merge</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, merge all skips. Otherwise, generate individual plots for
each skip</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>figs</strong> (<em>matplotlib.figure.Figure instance or list of Figure instances</em>) – if only one type was plotted, then the figure instance is return.
Otherwise, return a list of figure instances.</li>
<li><strong>axes</strong> (<em>axes object or list of axes ojects</em>) – plot axes</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRconfig</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">CRconfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">plot_pseudodepths</span><span class="p">(</span>
    <span class="n">spacing</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
    <span class="n">ctypes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;dd&#39;</span><span class="p">,</span> <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-13.py">Source code</a>, <a class="reference external" href="../api/crtomo-13.png">png</a>, <a class="reference external" href="../api/crtomo-13.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-13.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-13.png" src="../_images/crtomo-13.png" />
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRconfig</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">CRconfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">gen_schlumberger</span><span class="p">(</span><span class="n">M</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">plot_pseudodepths</span><span class="p">(</span>
    <span class="n">spacing</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">ctypes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;schlumberger&#39;</span><span class="p">,</span> <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-14.py">Source code</a>, <a class="reference external" href="../api/crtomo-14.png">png</a>, <a class="reference external" href="../api/crtomo-14.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-14.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-14.png" src="../_images/crtomo-14.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.plot_pseudosection_type1">
<code class="descname">plot_pseudosection_type1</code><span class="sig-paren">(</span><em>mid</em>, <em>spacing=1</em>, <em>grid=None</em>, <em>ctypes=None</em>, <em>dd_merge=False</em>, <em>cb=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.plot_pseudosection_type1" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pseudosection type 1 plot for a given measurement.</p>
<p>This type of pseudosection uses the pseudodepth, as given in the
literature for certain configuration types, to generate (x,y)
coordinates for each measurement data. The x-coordinate is computed as
the mean of all four electrode x positions.</p>
<p>Note that not all configurations can be plotted using type 1 plots.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mid</strong> – </li>
<li><strong>spacing</strong> – </li>
<li><strong>grid</strong> – </li>
<li><strong>ctypes</strong> – </li>
<li><strong>dd_merge</strong> – </li>
<li><strong>cb</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRConfig</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">CRConfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stepc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># generate random measurements</span>
<span class="n">measurements</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">nr_of_configs</span><span class="p">)</span>
<span class="n">mid</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">add_measurements</span><span class="p">(</span><span class="n">measurements</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">plot_pseudosection_type1</span><span class="p">(</span><span class="n">mid</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-15.py">Source code</a>, <a class="reference external" href="../api/crtomo-15.png">png</a>, <a class="reference external" href="../api/crtomo-15.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-15.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-15.png" src="../_images/crtomo-15.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.plot_pseudosection_type2">
<code class="descname">plot_pseudosection_type2</code><span class="sig-paren">(</span><em>mid</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.plot_pseudosection_type2" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pseudosection plot of type 2.</p>
<p>For a given measurement data set, create plots that graphically show
the data in a 2D color plot. Hereby, x and y coordinates in the plot
are determined by the current dipole (x-axis) and voltage dipole
(y-axis) of the corresponding measurement configurations.</p>
<p>This type of rawdata plot can plot any type of measurement
configurations, i.e., it is not restricted to certain types of
configurations such as Dipole-dipole or Wenner configurations. However,
spatial inferences cannot be made from the plots for all configuration
types.</p>
<p>Coordinates are generated by separately sorting the dipoles
(current/voltage) along the first electrode, and then subsequently
sorting by the difference (skip) between both electrodes.</p>
<p>Note that this type of raw data plot does not take into account the
real electrode spacing of the measurement setup.</p>
<p>Type 2 plots can show normal and reciprocal data at the same time.
Hereby the upper left triangle of the plot area usually contains normal
data, and the lower right triangle contains the corresponding
reciprocal data. Therefore a quick assessment of normal-reciprocal
differences can be made by visually comparing the symmetry on the 1:1
line going from the lower left corner to the upper right corner.</p>
<p>Note that this interpretation usually only holds for Dipole-Dipole data
(and the related Wenner configurations).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mid</strong> (<em>integer</em><em> or </em><em>numpy.ndarray</em>) – Measurement ID of stored measurement data, or a numpy array (size
N) with data that will be plotted. Must have the same length as
number of configurations.</li>
<li><strong>ax</strong> (<em>matplotlib.Axes object</em><em>, </em><em>optional</em>) – axes object to plot to. If not provided, a new figure and axes
object will be created and returned</li>
<li><strong>nocb</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set to False, don’t plot the colorbar</li>
<li><strong>cblabel</strong> (<em>string</em><em>, </em><em>optional</em>) – label for the colorbar</li>
<li><strong>cbmin</strong> (<em>float</em><em>, </em><em>optional</em>) – colorbar minimum</li>
<li><strong>cbmax</strong> (<em>float</em><em>, </em><em>optional</em>) – colorbar maximum</li>
<li><strong>xlabel</strong> (<em>string</em><em>, </em><em>optional</em>) – xlabel for the plot</li>
<li><strong>ylabel</strong> (<em>string</em><em>, </em><em>optional</em>) – ylabel for the plot</li>
<li><strong>do_not_saturate</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set to True, then values outside the colorbar range will not
saturate with the respective limit colors. Instead, values lower
than the CB are colored “cyan” and vaues above the CB limit are
colored “red”</li>
<li><strong>log10</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set to True, plot the log10 values of the provided data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>fig</em> – figure object</li>
<li><em>ax</em> – axes object</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>You can just supply a data vector to the plot function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRConfig</span>
<span class="n">configs</span> <span class="o">=</span> <span class="n">CRConfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stepc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">measurements</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">configs</span><span class="o">.</span><span class="n">nr_of_configs</span><span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">plot_pseudosection_type2</span><span class="p">(</span>
    <span class="n">mid</span><span class="o">=</span><span class="n">measurements</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-16.py">Source code</a>, <a class="reference external" href="../api/crtomo-16.png">png</a>, <a class="reference external" href="../api/crtomo-16.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-16.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-16.png" src="../_images/crtomo-16.png" />
</div>
<p>Generate a simple type 2 plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRConfig</span>
<span class="n">configs</span> <span class="o">=</span> <span class="n">CRConfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stepc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">measurements</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">configs</span><span class="o">.</span><span class="n">nr_of_configs</span><span class="p">)</span>
<span class="n">mid</span> <span class="o">=</span> <span class="n">configs</span><span class="o">.</span><span class="n">add_measurements</span><span class="p">(</span><span class="n">measurements</span><span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">plot_pseudosection_type2</span><span class="p">(</span>
    <span class="n">mid</span><span class="p">,</span>
    <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;this label&#39;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;xlabel&#39;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-17.py">Source code</a>, <a class="reference external" href="../api/crtomo-17.png">png</a>, <a class="reference external" href="../api/crtomo-17.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-17.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-17.png" src="../_images/crtomo-17.png" />
</div>
<p>You can also supply axes to plot to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">crtomo.mpl_setup</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">crtomo.configManager</span> <span class="kn">as</span> <span class="nn">CRConfig</span>

<span class="n">configs</span> <span class="o">=</span> <span class="n">CRConfig</span><span class="o">.</span><span class="n">ConfigManager</span><span class="p">(</span><span class="n">nr_of_electrodes</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">gen_dipole_dipole</span><span class="p">(</span><span class="n">skipc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stepc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">K</span> <span class="o">=</span> <span class="n">configs</span><span class="o">.</span><span class="n">compute_K_factors</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">measurements</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">configs</span><span class="o">.</span><span class="n">nr_of_configs</span><span class="p">)</span>
<span class="n">mid</span> <span class="o">=</span> <span class="n">configs</span><span class="o">.</span><span class="n">add_measurements</span><span class="p">(</span><span class="n">measurements</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">configs</span><span class="o">.</span><span class="n">plot_pseudosection_type2</span><span class="p">(</span>
    <span class="n">mid</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;this label&#39;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;xlabel&#39;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">configs</span><span class="o">.</span><span class="n">plot_pseudosection_type2</span><span class="p">(</span>
    <span class="n">K</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;K factor&#39;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;xlabel&#39;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/crtomo-18.py">Source code</a>, <a class="reference external" href="../api/crtomo-18.png">png</a>, <a class="reference external" href="../api/crtomo-18.hires.png">hires.png</a>, <a class="reference external" href="../api/crtomo-18.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/crtomo-18.png" src="../_images/crtomo-18.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.remove_duplicates">
<code class="descname">remove_duplicates</code><span class="sig-paren">(</span><em>configs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.remove_duplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>remove duplicate entries from 4-point configurations. If no
configurations are provided, then use self.configs. Unique
configurations are only returned if configs is not None.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configs</strong> (<em>Nx4 numpy.ndarray</em><em>, </em><em>optional</em>) – remove duplicates from these configurations instead from
self.configs.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>configs_unique</strong> – unique configurations. Only returned if configs is not None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Kx4 numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.split_into_normal_and_reciprocal">
<code class="descname">split_into_normal_and_reciprocal</code><span class="sig-paren">(</span><em>pad=False</em>, <em>return_indices=False</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.split_into_normal_and_reciprocal" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the stored configurations into normal and reciprocal
measurements</p>
<p>** <em>Rule 1: the normal configuration contains the smallest electrode
number of the four involved electrodes in the current dipole</em> **</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pad</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, add numpy.nan values to the reciprocals for non-existent
measuremnts</li>
<li><strong>return_indices</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, also return the indices of normal and reciprocal
measurments. This can be used to extract corresponding
measurements.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>normal</strong> (<em>numpy.ndarray</em>) – Nnx4 array. If pad is True, then Nn == N (total number of
unique measurements). Otherwise Nn is the number of normal
measurements.</li>
<li><strong>reciprocal</strong> (<em>numpy.ndarray</em>) – Nrx4 array. If pad is True, then Nr == N (total number of
unique measurements). Otherwise Nr is the number of reciprocal
measurements.</li>
<li><strong>nor_indices</strong> (<em>numpy.ndarray, optional</em>) – Nnx1 array containing the indices of normal measurements. Only
returned if return_indices is True.</li>
<li><strong>rec_indices</strong> (<em>numpy.ndarray, optional</em>) – Nrx1 array containing the indices of normal measurements. Only
returned if return_indices is True.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.test_get_unique_identifiers">
<code class="descname">test_get_unique_identifiers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.test_get_unique_identifiers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.write_configs">
<code class="descname">write_configs</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.write_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Write configs to file in four columns</p>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.write_crmod_config">
<code class="descname">write_crmod_config</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.write_crmod_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the configurations to a configuration file in the CRMod format
All configurations are merged into one previor to writing to file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – absolute or relative path to output filename (usually config.dat)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="crtomo.ConfigManager.write_crmod_volt">
<code class="descname">write_crmod_volt</code><span class="sig-paren">(</span><em>filename</em>, <em>mid</em><span class="sig-paren">)</span><a class="headerlink" href="#crtomo.ConfigManager.write_crmod_volt" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the measurements to the output file in the volt.dat file
format that can be read by CRTomo.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>string</em>) – output filename</li>
<li><strong>mid</strong> (<em>int</em><em> or </em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em>) – measurement ids of magnitude and phase measurements. If only one ID
is given, then the phase column is filled with zeros</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">crtomo tools</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../_examples/index.html">Examples for crtomo_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_examples/index.html#examples-grid-handling">Examples: Grid handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_examples/index.html#examples-modelling">Examples: Modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_examples/index.html#examples-postprocessing-of-inversion-results">Examples: Postprocessing of inversion results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/grid_tools/modules.html">src</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">lib</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">crtomo package</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="modules.html">lib</a><ul>
      <li>Previous: <a href="modules.html" title="previous chapter">lib</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, CRTomo contributors.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.7</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="../_sources/api/crtomo.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>